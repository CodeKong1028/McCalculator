
(function() {
    const encoded = 'Ly8gRkYxNOeUn+S6p+iBjOS4muiuoeeul+WZqCAtIOS6pOS6kumAu+i+kQovLyDkvZzogIXvvJpBSeWKqeaJiwovLyDor7TmmI7vvJrmnKzmlofku7bkuLrmvJTnpLrnlKjvvIzmlbDmja7kuLrlhoXnva7npLrkvovvvIzlkI7nu63lj6/mm7/mjaLkuLrnnJ/lrp7mlbDmja7miJZKU09O5paH5Lu2CgovLyA9PT09PT09PT09PT09PT09PT09PT0g56S65L6L5pWw5o2uID09PT09PT09PT09PT09PT09PT09PQovLyDogYzkuJrliJfooagKY29uc3QgSk9CUyA9IFsKICB7IGtleTogJ3F1aWNrY2FsYycsIG5hbWU6ICflv6vmjbforqHnrpcnLCBpY29uOiAnYXNzZXRzL2ljb25zL2pvYnMvMzJweC3ogYzkuJrlm77moIdf6IO95bel5ben5YygLndlYnAnIH0sCiAgeyBrZXk6ICdjYXJwZW50ZXInLCBuYW1lOiAn5Yi75pyo5YygJyB9LAogIHsga2V5OiAnYmxhY2tzbWl0aCcsIG5hbWU6ICfplLvpk4HljKAnIH0sCiAgeyBrZXk6ICdhcm1vcmVyJywgbmFtZTogJ+mTuOeUsuWMoCcgfSwKICB7IGtleTogJ2dvbGRzbWl0aCcsIG5hbWU6ICfpm5Xph5HljKAnIH0sCiAgeyBrZXk6ICdsZWF0aGVyd29ya2VyJywgbmFtZTogJ+WItumdqeWMoCcgfSwKICB7IGtleTogJ3dlYXZlcicsIG5hbWU6ICfoo4HooaPljKAnIH0sCiAgeyBrZXk6ICdhbGNoZW1pc3QnLCBuYW1lOiAn54K86YeR5pyv5aOrJyB9LAogIHsga2V5OiAnY3VsaW5hcmlhbicsIG5hbWU6ICfng7nosIPluIgnIH0KXTsKCi8vIOeUn+S6p+iBjOS4muS4jmpzb27mlofku7blkI3mmKDlsIQKY29uc3QgSk9CX0pTT05fTUFQID0gewogICdxdWlja2NhbGMnOiAncXVpY2tjYWxjJywKICAnY2FycGVudGVyJzogJ2NhcnBlbnRlcicsCiAgJ2JsYWNrc21pdGgnOiAnYmxhY2tzbWl0aCcsCiAgJ2FybW9yZXInOiAnYXJtb3JlcicsCiAgJ2dvbGRzbWl0aCc6ICdnb2xkc21pdGgnLAogICdsZWF0aGVyd29ya2VyJzogJ2xlYXRoZXJ3b3JrZXInLAogICd3ZWF2ZXInOiAnd2VhdmVyJywKICAnYWxjaGVtaXN0JzogJ2FsY2hlbWlzdCcsCiAgJ2N1bGluYXJpYW4nOiAnY3VsaW5hcmlhbicKfTsKCi8vIOW9k+WJjemFjeaWueaVsOaNrgpsZXQgSVRFTVMgPSBbXTsKCi8vID09PT09PT09PT0g5YWo6IGM5Lia6YWN5pa55YWo6YeP5pWw5o2u77yM5pSv5oyB6Leo6IGM5Lia5Y2K5oiQ5ZOB6YCS5b2SID09PT09PT09PT0gLy8KbGV0IEFMTF9SRUNJUEVTID0gW107CmFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxSZWNpcGVzRm9yQ2FsYygpIHsKICBjb25zdCBqb2JzID0gT2JqZWN0LmtleXMoSk9CX0pTT05fTUFQKTsKICBsZXQgYWxsID0gW107CiAgCiAgLy8g5qOA5p+l5piv5ZCm5pyJ5YaF5bWM6YWN5pa55pWw5o2uCiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTKSB7CiAgICAvLyDkvb/nlKjlhoXltYzmlbDmja4KICAgIGZvciAoY29uc3Qgam9iIG9mIGpvYnMpIHsKICAgICAgaWYgKHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTW2pvYl0pIHsKICAgICAgICBhbGwucHVzaCguLi53aW5kb3cuRU1CRURERURfUkVDSVBFU1tqb2JdLmZsYXRNYXAoY2F0ID0+IGNhdC5yZWNpcGVzKSk7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgLy8g5L2/55SoZmV0Y2jliqDovb3vvIjlvIDlj5HmqKHlvI/vvIkKICAgIGZvciAoY29uc3Qgam9iIG9mIGpvYnMpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgYXNzZXRzL3JlY2lwZS8ke0pPQl9KU09OX01BUFtqb2JdfS5qc29uYCk7CiAgICAgICAgaWYgKHJlcy5vaykgewogICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgICBhbGwucHVzaCguLi5kYXRhLmZsYXRNYXAoY2F0ID0+IGNhdC5yZWNpcGVzKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gbG9hZCByZWNpcGVzIGZvciAke2pvYn06YCwgZSk7CiAgICAgIH0KICAgIH0KICB9CiAgQUxMX1JFQ0lQRVMgPSBhbGw7Cn0KCi8vIOaMieiBjOS4muWKoOi9vemFjeaWuQphc3luYyBmdW5jdGlvbiBsb2FkSm9iUmVjaXBlcyhqb2IpIHsKICBpZiAoam9iID09PSAnYWxsJykgewogICAgYXdhaXQgbG9hZEFsbFJlY2lwZXNGb3JDYWxjKCk7CiAgfSBlbHNlIHsKICAgIC8vIOajgOafpeaYr+WQpuacieWGheW1jOmFjeaWueaVsOaNrgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTKSB7CiAgICAgIC8vIOS9v+eUqOWGheW1jOaVsOaNrgogICAgICBJVEVNUyA9IHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTW2pvYl0gfHwgW107CiAgICB9IGVsc2UgewogICAgICAvLyDkvb/nlKhmZXRjaOWKoOi9ve+8iOW8gOWPkeaooeW8j++8iQogICAgICBjb25zdCBmaWxlID0gYGFzc2V0cy9yZWNpcGUvJHtKT0JfSlNPTl9NQVBbam9iXX0uanNvbmA7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goZmlsZSk7CiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcign6YWN5pa55paH5Lu25Yqg6L295aSx6LSlJyk7CiAgICAgICAgSVRFTVMgPSBhd2FpdCByZXMuanNvbigpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gbG9hZCByZWNpcGVzIGZvciAke2pvYn06YCwgZSk7CiAgICAgICAgSVRFTVMgPSBbXTsKICAgICAgfQogICAgfQogIH0KICAvLyDliIfmjaLogYzkuJrml7bph43nva7liIbnsbvlsZXlvIDnirbmgIHkuLrlhajpg6jmipjlj6AKICBjYXRlZ29yeUV4cGFuZFN0YXRlID0ge307CiAgLy8g6YeN5paw5riy5p+T54mp5ZOB6YCJ5oup5Yy644CB5bey6YCJ54mp5ZOB44CB6K6h566X57uT5p6c562JCiAgcmVuZGVySXRlbVNlbGVjdGlvbigpOwogIHVwZGF0ZVNlbGVjdGVkSXRlbXNEaXNwbGF5KCk7CiAgbWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7ngrnlh7vorqHnrpfmjInpkq7mn6XnnIvljYrmiJDlk4E8L3A+PC9kaXY+JzsKICBiYXNlTWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7ngrnlh7vorqHnrpfmjInpkq7mn6XnnIvln7rnoYDmnZDmlpk8L3A+PC9kaXY+JzsKfQoKLy8g6IGM5Lia5YiH5o2i5pe26Ieq5Yqo5Yqg6L296YWN5pa5CmFzeW5jIGZ1bmN0aW9uIG9uSm9iQ2hhbmdlKGpvYikgewogIGF3YWl0IGxvYWRKb2JSZWNpcGVzKGpvYik7CiAgLy8g5YW25LuW6IGM5Lia5YiH5o2i6YC76L6RLi4uCn0KCi8vIOmhtemdouWIneWni+WMluaXtuWKoOi9veWFqOiBjOS4mumFjeaWuQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGFzeW5jICgpID0+IHsKICAvLyDmo4Dmn6VET03lhYPntKDmmK/lkKbmraPnoa7ojrflj5YKICBjb25zb2xlLmxvZygnY2FsY3VsYXRlQnRuOicsIGNhbGN1bGF0ZUJ0bik7CiAgY29uc29sZS5sb2coJ21hdGVyaWFsc0xpc3Q6JywgbWF0ZXJpYWxzTGlzdCk7CiAgY29uc29sZS5sb2coJ2Jhc2VNYXRlcmlhbHNMaXN0OicsIGJhc2VNYXRlcmlhbHNMaXN0KTsKICAKICBhd2FpdCBsb2FkQWxsUmVjaXBlc0ZvckNhbGMoKTsgLy8g5YWI5Yqg6L295YWo6YeP6YWN5pa5CiAgCiAgY29uc3QgZGVmYXVsdEpvYiA9ICdxdWlja2NhbGMnOyAvLyDmlLnkuLrpu5jorqTpgInmi6nlv6vmjbforqHnrpcKICBjdXJyZW50Sm9iID0gZGVmYXVsdEpvYjsKICAKICBhd2FpdCBvbkpvYkNoYW5nZShkZWZhdWx0Sm9iKTsKICAKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLXRhYicpLmZvckVhY2goYnRuID0+IHsKICAgIGlmIChidG4uZGF0YXNldC5qb2IgPT09IGRlZmF1bHRKb2IpIHsKICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgfSBlbHNlIHsKICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgfQogIH0pOwp9KTsKCi8vID09PT09PT09PT09PT09PT09PT09PSDnianlk4HkuI7phY3mlrnnpLrkvovvvIjnnJ/lrp7pobnnm67or7fnlKhKU09O5paH5Lu25pu/5o2i77yJID09PT09PT09PT09PT09PT09PT09PQpjb25zdCBJVEVNU19FWEFNUExFID0gWwogIHsKICAgIGlkOiAnZ29sZF9pbmdvdCcsCiAgICBuYW1lOiAn57u/6YeR6ZStJywKICAgIGxldmVsOiAzNywKICAgIGpvYjogJ2dvbGRzbWl0aCcsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+e7v+mHkemUrS53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAncmF3X29yZScsIG5hbWU6ICfnu7/ph5Hnn7/nn7MnLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy9yYXdfb3JlLnBuZycgfSwKICAgICAgeyBpZDogJ2NyeXN0YWwnLCBuYW1lOiAn5rC05pm2JywgcXVhbnRpdHk6IDQsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMvY3J5c3RhbC5wbmcnIH0KICAgIF0KICB9LAogIHsKICAgIGlkOiAnZ29sZF9yaW5nJywKICAgIG5hbWU6ICfnu7/ph5Hnjq8nLAogICAgbGV2ZWw6IDM4LAogICAgam9iOiAnZ29sZHNtaXRoJywKICAgIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv57u/6YeR546vLndlYnAnLAogICAgcmVjaXBlOiBbCiAgICAgIHsgaWQ6ICdnb2xkX2luZ290JywgbmFtZTogJ+e7v+mHkemUrScsIHF1YW50aXR5OiAyLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+e7v+mHkemUrS53ZWJwJyB9LAogICAgICB7IGlkOiAnY3J5c3RhbCcsIG5hbWU6ICfmsLTmmbYnLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy9jcnlzdGFsLnBuZycgfQogICAgXQogIH0sCiAgewogICAgaWQ6ICdzcHJ1Y2VfaGVhbGluZ19zaG9lcycsCiAgICBuYW1lOiAn5LqR5p2J5rK75oSI5pyo6Z6LJywKICAgIGxldmVsOiA1MCwKICAgIGpvYjogJ2NhcnBlbnRlcicsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+S6keadieayu+aEiOacqOmeiy53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAnc3BydWNlX2x1bWJlcicsIG5hbWU6ICfkupHmnYnmnKjmnZAnLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/kupHmnYnmnKjmnZAud2VicCcgfSwKICAgICAgeyBpZDogJ3NpbGtfdGhyZWFkJywgbmFtZTogJ+WkqeialeS4nScsIHF1YW50aXR5OiAxLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+WkqeialeS4nS53ZWJwJyB9LAogICAgICB7IGlkOiAncmFwdG9yX2xlYXRoZXInLCBuYW1lOiAn55uX6b6Z6Z2pJywgcXVhbnRpdHk6IDEsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv55uX6b6Z6Z2pLndlYnAnIH0sCiAgICAgIHsgaWQ6ICdoaWdoX3B1cml0eV9zb2x2ZW50JywgbmFtZTogJ+mrmOe6r+W6puW/g+WKm+eCvOmHkea6tuWJgicsIHF1YW50aXR5OiAyLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mrmOe6r+W6puW/g+WKm+eCvOmHkea6tuWJgi53ZWJwJyB9LAogICAgICB7IGlkOiAnd2luZF9jcnlzdGFsJywgbmFtZTogJ+mjjuS5i+eijuaZticsIHF1YW50aXR5OiA2LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mjjuS5i+eijuaZti53ZWJwJyB9LAogICAgICB7IGlkOiAnaWNlX2NyeXN0YWwnLCBuYW1lOiAn5Yaw5LmL56KO5pm2JywgcXVhbnRpdHk6IDYsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv5Yaw5LmL56KO5pm2LndlYnAnIH0KICAgIF0KICB9LAogIC8vIOWNiuaIkOWTgeadkOaWmeWumuS5iQogIHsKICAgIGlkOiAnc3BydWNlX2x1bWJlcicsCiAgICBuYW1lOiAn5LqR5p2J5pyo5p2QJywKICAgIGxldmVsOiA0NSwKICAgIGpvYjogJ2NhcnBlbnRlcicsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+S6keadieacqOadkC53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAnc3BydWNlX2xvZycsIG5hbWU6ICfkupHmnYnljp/mnKgnLCBxdWFudGl0eTogNSwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/kupHmnYnljp/mnKgud2VicCcgfSwKICAgICAgeyBpZDogJ3RyZWVfc2FwJywgbmFtZTogJ+agkeaxgeWdlycsIHF1YW50aXR5OiAyLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+agkeaxgeWdly53ZWJwJyB9LAogICAgICB7IGlkOiAnd2luZF9jcnlzdGFsJywgbmFtZTogJ+mjjuS5i+eijuaZticsIHF1YW50aXR5OiA2LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mjjuS5i+eijuaZti53ZWJwJyB9CiAgICBdCiAgfSwKICB7CiAgICBpZDogJ3NpbGtfdGhyZWFkJywKICAgIG5hbWU6ICflpKnompXkuJ0nLAogICAgbGV2ZWw6IDQ4LAogICAgam9iOiAnd2VhdmVyJywKICAgIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv5aSp6JqV5LidLndlYnAnLAogICAgcmVjaXBlOiBbCiAgICAgIHsgaWQ6ICdjb2Nvb24nLCBuYW1lOiAn6JqV6IynJywgcXVhbnRpdHk6IDMsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv6JqV6IynLndlYnAnIH0sCiAgICAgIHsgaWQ6ICdncmF5X2p1aWNlJywgbmFtZTogJ+eBsOaxgScsIHF1YW50aXR5OiAxLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+eBsOaxgS53ZWJwJyB9LAogICAgICB7IGlkOiAnbGlnaHRuaW5nX2NyeXN0YWwnLCBuYW1lOiAn6Zu35LmL56KO5pm2JywgcXVhbnRpdHk6IDYsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv6Zu35LmL56KO5pm2LndlYnAnIH0KICAgIF0KICB9LAogIHsKICAgIGlkOiAncmFwdG9yX2xlYXRoZXInLAogICAgbmFtZTogJ+ebl+m+memdqScsCiAgICBsZXZlbDogNDYsCiAgICBqb2I6ICdsZWF0aGVyd29ya2VyJywKICAgIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv55uX6b6Z6Z2pLndlYnAnLAogICAgcmVjaXBlOiBbCiAgICAgIHsgaWQ6ICdyYXB0b3JfaGlkZScsIG5hbWU6ICfnm5fpvpnnmoTnspfnmq4nLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/nm5fpvpnnmoTnspfnmq4ud2VicCcgfSwKICAgICAgeyBpZDogJ2JsYWNrX2FsdW0nLCBuYW1lOiAn6buR5piO55++JywgcXVhbnRpdHk6IDEsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv6buR5piO55++LndlYnAnIH0sCiAgICAgIHsgaWQ6ICdlYXJ0aF9jcnlzdGFsJywgbmFtZTogJ+Wcn+S5i+eijuaZticsIHF1YW50aXR5OiA0LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+Wcn+S5i+eijuaZti53ZWJwJyB9CiAgICBdCiAgfSwKICB7CiAgICBpZDogJ2hpZ2hfcHVyaXR5X3NvbHZlbnQnLAogICAgbmFtZTogJ+mrmOe6r+W6puW/g+WKm+eCvOmHkea6tuWJgicsCiAgICBsZXZlbDogNDksCiAgICBqb2I6ICdhbGNoZW1pc3QnLAogICAgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/pq5jnuq/luqblv4Plipvngrzph5HmurbliYIud2VicCcsCiAgICByZWNpcGU6IFsKICAgICAgeyBpZDogJ3NhdmluX21pc3RsZXRvZScsIG5hbWU6ICfokKjnu7TlpYjmp7Llr4TnlJ8nLCBxdWFudGl0eTogNSwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/okKjnu7TlpYjmp7Llr4TnlJ8ud2VicCcgfSwKICAgICAgeyBpZDogJ3B1cmVfd2F0ZXInLCBuYW1lOiAn57qv5YeA5rC0JywgcXVhbnRpdHk6IDIsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv57qv5YeA5rC0LndlYnAnIH0sCiAgICAgIHsgaWQ6ICd3YXRlcl9jcnlzdGFsJywgbmFtZTogJ+awtOS5i+eijuaZticsIHF1YW50aXR5OiA2LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+awtOS5i+eijuaZti53ZWJwJyB9CiAgICBdCiAgfQpdOwoKLy8g5Z+656GA5p2Q5paZ5Zu+5qCH5pig5bCECmNvbnN0IEJBU0VfTUFURVJJQUxfSUNPTlMgPSB7CiAgJ3NwcnVjZV9sb2cnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+S6keadieWOn+acqC53ZWJwJywKICAndHJlZV9zYXAnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+agkeaxgeWdly53ZWJwJywKICAnY29jb29uJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/ompXojKcud2VicCcsCiAgJ2dyYXlfanVpY2UnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+eBsOaxgS53ZWJwJywKICAncmFwdG9yX2hpZGUnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+ebl+m+meeahOeyl+eari53ZWJwJywKICAnYmxhY2tfYWx1bSc6ICdhc3NldHMvaWNvbnMvaXRlbXMv6buR5piO55++LndlYnAnLAogICdzYXZpbl9taXN0bGV0b2UnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+iQqOe7tOWliOansuWvhOeUny53ZWJwJywKICAncHVyZV93YXRlcic6ICdhc3NldHMvaWNvbnMvaXRlbXMv57qv5YeA5rC0LndlYnAnLAogICd3aW5kX2NyeXN0YWwnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mjjuS5i+eijuaZti53ZWJwJywKICAnaWNlX2NyeXN0YWwnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+WGsOS5i+eijuaZti53ZWJwJywKICAnbGlnaHRuaW5nX2NyeXN0YWwnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mbt+S5i+eijuaZti53ZWJwJywKICAnZWFydGhfY3J5c3RhbCc6ICdhc3NldHMvaWNvbnMvaXRlbXMv5Zyf5LmL56KO5pm2LndlYnAnLAogICd3YXRlcl9jcnlzdGFsJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/msLTkuYvnoo7mmbYud2VicCcKfTsKCi8vIOWfuuehgOadkOaWmeS4reaWh+WQjeensOaYoOWwhApjb25zdCBCQVNFX01BVEVSSUFMX05BTUVTID0gewogICdzcHJ1Y2VfbG9nJzogJ+S6keadieWOn+acqCcsCiAgJ3RyZWVfc2FwJzogJ+agkeaxgeWdlycsCiAgJ2NvY29vbic6ICfompXojKcnLAogICdncmF5X2p1aWNlJzogJ+eBsOaxgScsCiAgJ3JhcHRvcl9oaWRlJzogJ+ebl+m+meeahOeyl+earicsCiAgJ2JsYWNrX2FsdW0nOiAn6buR5piO55++JywKICAnc2F2aW5fbWlzdGxldG9lJzogJ+iQqOe7tOWliOansuWvhOeUnycsCiAgJ3B1cmVfd2F0ZXInOiAn57qv5YeA5rC0JywKICAnd2luZF9jcnlzdGFsJzogJ+mjjuS5i+eijuaZticsCiAgJ2ljZV9jcnlzdGFsJzogJ+WGsOS5i+eijuaZticsCiAgJ2xpZ2h0bmluZ19jcnlzdGFsJzogJ+mbt+S5i+eijuaZticsCiAgJ2VhcnRoX2NyeXN0YWwnOiAn5Zyf5LmL56KO5pm2JywKICAnd2F0ZXJfY3J5c3RhbCc6ICfmsLTkuYvnoo7mmbYnCn07CgovLyA9PT09PT09PT09PT09PT09PT09PT0g54q25oCB566h55CGID09PT09PT09PT09PT09PT09PT09PQpsZXQgY3VycmVudEpvYiA9ICdjYXJwZW50ZXInOwpsZXQgc2VhcmNoS2V5d29yZCA9ICcnOwpsZXQgc2VsZWN0ZWRJdGVtcyA9IFtdOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IERPTSDlhYPntKDojrflj5YgPT09PT09PT09PT09PT09PT09PT09CmNvbnN0IGpvYlRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9iLXRhYicpOwpjb25zdCBpdGVtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbXNHcmlkJyk7CmNvbnN0IGl0ZW1TZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbVNlYXJjaCcpOwpjb25zdCBzZWxlY3RlZEl0ZW1zTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZEl0ZW1zTGlzdCcpOwpjb25zdCBjYWxjdWxhdGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsY3VsYXRlQnRuJyk7CmNvbnN0IG1hdGVyaWFsc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0ZXJpYWxzTGlzdCcpOwpjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXRlcmlhbE1vZGFsJyk7CmNvbnN0IG1vZGFsVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxUaXRsZScpOwpjb25zdCBtb2RhbEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxCb2R5Jyk7CmNvbnN0IG1vZGFsQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxDbG9zZScpOwoKLy8gPT09PT09PT09PSDmlLbol4/lip/og70gPT09PT09PT09PSAvLwpsZXQgZmF2SXRlbXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmZjE0X2ZhdnMnKSB8fCAnW10nKTsKbGV0IHNob3dGYXZPbmx5ID0gZmFsc2U7CmNvbnN0IGZhdlRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYXZUb2dnbGVCdG4nKTsKCi8vIOWkmue6p+WIhuexu+S4i+eahOeJqeWTgei/h+a7pApmdW5jdGlvbiBmaWx0ZXJJdGVtc0J5Q2F0ZWdvcnkoKSB7CiAgaWYgKCFBcnJheS5pc0FycmF5KElURU1TKSkgcmV0dXJuIFtdOwogIGNvbnN0IHJlc3VsdCA9IFtdOwogIElURU1TLmZvckVhY2goY2F0ID0+IHsKICAgIC8vIOWIhuexu+S4i+eahOmFjeaWueetm+mAiQogICAgY29uc3QgZmlsdGVyZWQgPSBjYXQucmVjaXBlcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgIGNvbnN0IG1hdGNoSm9iID0gaXRlbS5qb2IgPT09IGN1cnJlbnRKb2I7CiAgICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaEtleXdvcmQgfHwgaXRlbS5uYW1lLmluY2x1ZGVzKHNlYXJjaEtleXdvcmQpOwogICAgICBjb25zdCBtYXRjaEZhdiA9ICFzaG93RmF2T25seSB8fCBpc0ZhdmVkKGl0ZW0uaWQpOwogICAgICByZXR1cm4gbWF0Y2hKb2IgJiYgbWF0Y2hTZWFyY2ggJiYgbWF0Y2hGYXY7CiAgICB9KTsKICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSB7CiAgICAgIHJlc3VsdC5wdXNoKHsgY2F0ZWdvcnk6IGNhdC5jYXRlZ29yeSwgcmVjaXBlczogZmlsdGVyZWQgfSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJlc3VsdDsKfQoKLy8g5YiG57G75bGV5byA54q25oCB77yM6buY6K6k5YWo6YOo5oqY5Y+gCmxldCBjYXRlZ29yeUV4cGFuZFN0YXRlID0ge307CgovLyA9PT09PT09PT09IOWbvuagh+i3r+W+hOiHquWKqOWMuemFjSA9PT09PT09PT09IC8vCmZ1bmN0aW9uIGdldEl0ZW1JY29uKG5hbWUsIGZhbGxiYWNrKSB7CiAgLy8g6Ieq5Yqo5oyJ5ZCN56ew5Yy56YWNaXRlbXPnm67lvZXkuIvnmoTlm77moIcKICBjb25zdCB1cmwgPSBgYXNzZXRzL2ljb25zL2l0ZW1zLyR7bmFtZX0ud2VicGA7CiAgLy8g6aKE5Yqg6L295Yik5pat5piv5ZCm5a2Y5Zyo77yI5YmN56uv5Y+v55u05o6l55So77yM6YOo5YiG5rWP6KeI5Zmo5Lya6Ieq5YqoNDA06ZmN57qn77yJCiAgcmV0dXJuIHVybDsKfQoKLy8g5riy5p+T54mp5ZOB6YCJ5oup5Yy677yI5aSa57qn5YiG57G777yJCmZ1bmN0aW9uIHJlbmRlckl0ZW1TZWxlY3Rpb24oKSB7CiAgLy8g5paw5aKe77ya5Y+q55yL5pS26JeP5pe25bmz6ZO65pi+56S6CiAgaWYgKHNob3dGYXZPbmx5KSB7CiAgICBpdGVtc0dyaWQuY2xhc3NMaXN0LmFkZCgnZmF2LW9ubHknKTsgLy8g5Y+q55yL5pS26JeP5pe25YqgY2xhc3MKICAgIGNvbnN0IGFsbEl0ZW1zID0gZ2V0QWxsSXRlbXNGbGF0KCk7CiAgICAvLyDmuLLmn5PliY3ljrvph43vvJrlkIxpZOWPquaYvuekuuS4gOasoQogICAgY29uc3QgdW5pcXVlRmF2ZWQgPSBbXTsKICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7CiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYWxsSXRlbXMpIHsKICAgICAgaWYgKGZhdkl0ZW1zLmluY2x1ZGVzKGl0ZW0uaWQpICYmICFzZWVuLmhhcyhpdGVtLmlkKSkgewogICAgICAgIHVuaXF1ZUZhdmVkLnB1c2goaXRlbSk7CiAgICAgICAgc2Vlbi5hZGQoaXRlbS5pZCk7CiAgICAgIH0KICAgIH0KICAgIGlmICh1bmlxdWVGYXZlZC5sZW5ndGggPT09IDApIHsKICAgICAgaXRlbXNHcmlkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1oZWFydC1icm9rZW4iPjwvaT48cD7mmoLml6DmlLbol4/nmoTnianlk4E8L3A+PC9kaXY+JzsKICAgICAgcmV0dXJuOwogICAgfQogICAgaXRlbXNHcmlkLmlubmVySFRNTCA9IHVuaXF1ZUZhdmVkLm1hcChpdGVtID0+IGAKICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXJkJHtzZWxlY3RlZEl0ZW1zLmZpbmQoc2VsID0+IHNlbC5pZCA9PT0gaXRlbS5pZCkgPyAnIHNlbGVjdGVkJyA6ICcnfSIgZGF0YS1pZD0iJHtpdGVtLmlkfSI+CiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1pY29uIj48aW1nIHNyYz0iJHtnZXRJdGVtSWNvbihpdGVtLm5hbWUsIGl0ZW0uaWNvbil9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ij48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLW5hbWUiPiR7aXRlbS5uYW1lfTwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tbGV2ZWwiPuetiee6p++8miR7aXRlbS5sZXZlbH08L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJmYXYtYnRuIGZhdmVkIiB0aXRsZT0i5Y+W5raI5pS26JePIj48aSBjbGFzcz0iZmFzIGZhLXN0YXIiPjwvaT48L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICBgKS5qb2luKCcnKTsKICAgIHJldHVybjsKICB9IGVsc2UgewogICAgaXRlbXNHcmlkLmNsYXNzTGlzdC5yZW1vdmUoJ2Zhdi1vbmx5Jyk7IC8vIOmAgOWHuuWPqueci+aUtuiXj+aXtuenu+mZpGNsYXNzCiAgfQogIC8vIOWOn+acieWIhue7hOa4suafk+mAu+i+kQogIGNvbnN0IGZpbHRlcmVkID0gZmlsdGVySXRlbXNCeUNhdGVnb3J5KCk7CiAgaWYgKCFBcnJheS5pc0FycmF5KGZpbHRlcmVkKSB8fCBmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgIGl0ZW1zR3JpZC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtaW5ib3giPjwvaT48cD7ml6DnrKblkIjmnaHku7bnmoTnianlk4E8L3A+PC9kaXY+JzsKICAgIHJldHVybjsKICB9CiAgbGV0IGh0bWwgPSAnJzsKICBmaWx0ZXJlZC5mb3JFYWNoKGNhdCA9PiB7CiAgICBpZiAoIShjYXQuY2F0ZWdvcnkgaW4gY2F0ZWdvcnlFeHBhbmRTdGF0ZSkpIGNhdGVnb3J5RXhwYW5kU3RhdGVbY2F0LmNhdGVnb3J5XSA9IGZhbHNlOwogICAgY29uc3QgZXhwYW5kZWQgPSBjYXRlZ29yeUV4cGFuZFN0YXRlW2NhdC5jYXRlZ29yeV07CiAgICBodG1sICs9IGAKICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXRlZ29yeSI+CiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXRlZ29yeS1oZWFkZXIke2V4cGFuZGVkID8gJyBleHBhbmRlZCcgOiAnJ30iIGRhdGEtY2F0ZWdvcnk9IiR7Y2F0LmNhdGVnb3J5fSI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2F0ZWdvcnktdG9nZ2xlIj4ke2V4cGFuZGVkID8gJ+KWvCcgOiAn4pa2J308L3NwYW4+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2F0ZWdvcnktdGl0bGUiPiR7Y2F0LmNhdGVnb3J5fTwvc3Bhbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhdGVnb3J5LXNlbGVjdC1hbGwtYnRuIiBkYXRhLWNhdGVnb3J5PSIke2NhdC5jYXRlZ29yeX0iIHRpdGxlPSLmibnph4/pgInmi6nor6XliIbnsbvkuIvmiYDmnInphY3mlrkiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMtc3F1YXJlIj48L2k+CiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNhdGVnb3J5LWxpc3QiIHN0eWxlPSJkaXNwbGF5OiR7ZXhwYW5kZWQgPyAnYmxvY2snIDogJ25vbmUnfTsiPgogICAgICAgICAgJHtjYXQucmVjaXBlcy5tYXAoaXRlbSA9PiBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tY2FyZCR7c2VsZWN0ZWRJdGVtcy5maW5kKHNlbCA9PiBzZWwuaWQgPT09IGl0ZW0uaWQpID8gJyBzZWxlY3RlZCcgOiAnJ30iIGRhdGEtaWQ9IiR7aXRlbS5pZH0iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0taWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24oaXRlbS5uYW1lLCBpdGVtLmljb24pfSIgYWx0PSIke2l0ZW0ubmFtZX0iIHN0eWxlPSJ3aWR0aDoyOHB4O2hlaWdodDoyOHB4OyI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1uYW1lIj4ke2l0ZW0ubmFtZX08L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWxldmVsIj7nrYnnuqfvvJoke2l0ZW0ubGV2ZWx9PC9kaXY+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZmF2LWJ0biR7aXNGYXZlZChpdGVtLmlkKSA/ICcgZmF2ZWQnIDogJyd9IiB0aXRsZT0iJHtpc0ZhdmVkKGl0ZW0uaWQpID8gJ+WPlua2iOaUtuiXjycgOiAn5pS26JePJ30iPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIGA7CiAgfSk7CiAgaXRlbXNHcmlkLmlubmVySFRNTCA9IGh0bWw7Cn0KCi8vIOiOt+WPluaJgOaciemFjeaWueeahOaJgeW5s+aVsOe7hO+8iOeUqOS6jumAkuW9kuafpeaJvuWNiuaIkOWTge+8jOWni+e7iOeUqOWFqOiBjOS4muaVsOaNru+8iQpmdW5jdGlvbiBnZXRBbGxJdGVtc0ZsYXQoKSB7CiAgcmV0dXJuIEFMTF9SRUNJUEVTOwp9CgpmdW5jdGlvbiBpc0ZhdmVkKGl0ZW1JZCkgewogIHJldHVybiBmYXZJdGVtcy5pbmNsdWRlcyhpdGVtSWQpOwp9CmZ1bmN0aW9uIHRvZ2dsZUZhdihpdGVtSWQpIHsKICBpZiAoaXNGYXZlZChpdGVtSWQpKSB7CiAgICBmYXZJdGVtcyA9IGZhdkl0ZW1zLmZpbHRlcihpZCA9PiBpZCAhPT0gaXRlbUlkKTsKICB9IGVsc2UgewogICAgaWYgKCFmYXZJdGVtcy5pbmNsdWRlcyhpdGVtSWQpKSB7IC8vIOmYsuatoumHjeWkjeaUtuiXjwogICAgICBmYXZJdGVtcy5wdXNoKGl0ZW1JZCk7CiAgICB9CiAgfQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmZjE0X2ZhdnMnLCBKU09OLnN0cmluZ2lmeShmYXZJdGVtcykpOwogIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsgLy8g5L+d6K+B5YiG57qn55uu5b2V57uT5p6ECn0KCmZhdlRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICBzaG93RmF2T25seSA9ICFzaG93RmF2T25seTsKICBmYXZUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgc2hvd0Zhdk9ubHkpOwogIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsgLy8g5L+d6K+B5YiG57qn55uu5b2V57uT5p6ECn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOeJqeWTgeetm+mAieS4jua4suafkyA9PT09PT09PT09PT09PT09PT09PT0KZnVuY3Rpb24gZmlsdGVySXRlbXMoKSB7CiAgcmV0dXJuIElURU1TLmZpbHRlcihpdGVtID0+IHsKICAgIGNvbnN0IG1hdGNoSm9iID0gaXRlbS5qb2IgPT09IGN1cnJlbnRKb2I7CiAgICBjb25zdCBtYXRjaFNlYXJjaCA9ICFzZWFyY2hLZXl3b3JkIHx8IGl0ZW0ubmFtZS5pbmNsdWRlcyhzZWFyY2hLZXl3b3JkKTsKICAgIGNvbnN0IG1hdGNoRmF2ID0gIXNob3dGYXZPbmx5IHx8IGlzRmF2ZWQoaXRlbS5pZCk7CiAgICByZXR1cm4gbWF0Y2hKb2IgJiYgbWF0Y2hTZWFyY2ggJiYgbWF0Y2hGYXY7CiAgfSk7Cn0KCi8vIOS/ruato3JlbmRlckl0ZW1z77yM5pSv5oyB5aSa57qn5YiG57G757uT5p6ECmZ1bmN0aW9uIHJlbmRlckl0ZW1zKCkgewogIGNvbnN0IGl0ZW1zID0gZ2V0QWxsSXRlbXNGbGF0KCkuZmlsdGVyKGl0ZW0gPT4gewogICAgY29uc3QgbWF0Y2hKb2IgPSBpdGVtLmpvYiA9PT0gY3VycmVudEpvYjsKICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaEtleXdvcmQgfHwgaXRlbS5uYW1lLmluY2x1ZGVzKHNlYXJjaEtleXdvcmQpOwogICAgY29uc3QgbWF0Y2hGYXYgPSAhc2hvd0Zhdk9ubHkgfHwgaXNGYXZlZChpdGVtLmlkKTsKICAgIHJldHVybiBtYXRjaEpvYiAmJiBtYXRjaFNlYXJjaCAmJiBtYXRjaEZhdjsKICB9KTsKICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICBpdGVtc0dyaWQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj48aSBjbGFzcz0iZmFzIGZhLWluYm94Ij48L2k+PHA+5peg56ym5ZCI5p2h5Lu255qE54mp5ZOBPC9wPjwvZGl2Pic7CiAgICByZXR1cm47CiAgfQogIGl0ZW1zR3JpZC5pbm5lckhUTUwgPSBpdGVtcy5tYXAoaXRlbSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJpdGVtLWNhcmQke3NlbGVjdGVkSXRlbXMuZmluZChzZWwgPT4gc2VsLmlkID09PSBpdGVtLmlkKSA/ICcgc2VsZWN0ZWQnIDogJyd9IiBkYXRhLWlkPSIke2l0ZW0uaWR9Ij4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1pY29uIj48aW1nIHNyYz0iJHtnZXRJdGVtSWNvbihpdGVtLm5hbWUsIGl0ZW0uaWNvbil9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ij48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1uYW1lIj4ke2l0ZW0ubmFtZX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1sZXZlbCI+562J57qn77yaJHtpdGVtLmxldmVsfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJpdGVtLWpvYiI+JHtKT0JTLmZpbmQoaj0+ai5rZXk9PT1pdGVtLmpvYik/Lm5hbWV8fCcnfTwvZGl2PgogICAgICA8YnV0dG9uIGNsYXNzPSJmYXYtYnRuJHtpc0ZhdmVkKGl0ZW0uaWQpID8gJyBmYXZlZCcgOiAnJ30iIHRpdGxlPSIke2lzRmF2ZWQoaXRlbS5pZCkgPyAn5Y+W5raI5pS26JePJyA6ICfmlLbol48nfSI+PGkgY2xhc3M9ImZhcyBmYS1zdGFyIj48L2k+PC9idXR0b24+CiAgICA8L2Rpdj4KICBgKS5qb2luKCcnKTsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09IOiBjOS4muWIh+aNoiA9PT09PT09PT09PT09PT09PT09PT0Kam9iVGFicy5mb3JFYWNoKHRhYiA9PiB7CiAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gewogICAgLy8g5paw5aKe77ya5Y+q55yL5pS26JeP5pe25YiH5o2i6IGM5Lia6Ieq5Yqo6YCA5Ye65Y+q55yL5pS26JePCiAgICBpZiAoc2hvd0Zhdk9ubHkpIHsKICAgICAgc2hvd0Zhdk9ubHkgPSBmYWxzZTsKICAgICAgZmF2VG9nZ2xlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgfQogICAgam9iVGFicy5mb3JFYWNoKHQgPT4gdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICBjb25zdCBqb2JLZXkgPSB0YWIuZGF0YXNldC5qb2I7CiAgICBjdXJyZW50Sm9iID0gam9iS2V5OwogICAgYXdhaXQgb25Kb2JDaGFuZ2Uoam9iS2V5KTsgLy8g56Gu5L+d5byC5q2l5Yqg6L295ZCO5YaN5riy5p+TCiAgfSk7Cn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOaQnOe0ouWKn+iDvSA9PT09PT09PT09PT09PT09PT09PT0KaXRlbVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4gewogIHNlYXJjaEtleXdvcmQgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7CiAgcmVuZGVySXRlbVNlbGVjdGlvbigpOyAvLyDkv53or4HliIbnuqfnm67lvZXnu5PmnoQKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g54mp5ZOB6YCJ5oupID09PT09PT09PT09PT09PT09PT09PQovLyDkv67mraPnianlk4HpgInmi6nkuovku7bvvIzlp4vnu4josIPnlKhyZW5kZXJJdGVtU2VsZWN0aW9uCml0ZW1zR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmF2LWJ0bicpKSB7CiAgICBjb25zdCBjYXJkID0gZS50YXJnZXQuY2xvc2VzdCgnLml0ZW0tY2FyZCcpOwogICAgaWYgKCFjYXJkKSByZXR1cm47CiAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGFzZXQuaWQ7CiAgICB0b2dnbGVGYXYoaXRlbUlkKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgY2FyZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pdGVtLWNhcmQnKTsKICBpZiAoIWNhcmQpIHJldHVybjsKICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGFzZXQuaWQ7CiAgY29uc3QgaXRlbSA9IGdldEFsbEl0ZW1zRmxhdCgpLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpOwogIGlmICghaXRlbSkgewogICAgcmV0dXJuOwogIH0KICBjb25zdCBleGlzdCA9IHNlbGVjdGVkSXRlbXMuZmluZChzZWwgPT4gc2VsLmlkID09PSBpdGVtSWQpOwogIGlmIChleGlzdCkgcmV0dXJuOyAvLyDlt7LpgInkuK3kuI3ph43lpI3mt7vliqAKICBzZWxlY3RlZEl0ZW1zLnB1c2goeyAuLi5pdGVtLCBxdWFudGl0eTogMSB9KTsKICByZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CiAgcmVuZGVySXRlbVNlbGVjdGlvbigpOyAvLyDkv53or4Hlt6bkvqfliIbnuqfnm67lvZXlkozmu5rliqjmraPluLgKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5bey6YCJ54mp5ZOB5riy5p+T5LiO5pON5L2cID09PT09PT09PT09PT09PT09PT09PQpmdW5jdGlvbiByZW5kZXJTZWxlY3RlZEl0ZW1zKCkgewogIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgc2VsZWN0ZWRJdGVtc0xpc3QuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj48aSBjbGFzcz0iZmFzIGZhLWluYm94Ij48L2k+PHA+6K+36YCJ5oup6KaB5Yi26YCg55qE54mp5ZOBPC9wPjwvZGl2Pic7CiAgICByZXR1cm47CiAgfQogIHNlbGVjdGVkSXRlbXNMaXN0LmlubmVySFRNTCA9IHNlbGVjdGVkSXRlbXMubWFwKGl0ZW0gPT4gYAogICAgPGRpdiBjbGFzcz0ic2VsZWN0ZWQtaXRlbSIgZGF0YS1pZD0iJHtpdGVtLmlkfSI+CiAgICAgIDxkaXYgY2xhc3M9InNlbGVjdGVkLWl0ZW0taW5mbyI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VsZWN0ZWQtaXRlbS1pY29uIj48aW1nIHNyYz0iJHtnZXRJdGVtSWNvbihpdGVtLm5hbWUsIGl0ZW0uaWNvbil9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgc3R5bGU9IndpZHRoOjMycHg7aGVpZ2h0OjMycHg7Ij48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3RlZC1pdGVtLWRldGFpbHMiPgogICAgICAgICAgPGg0PiR7aXRlbS5uYW1lfSA8c3BhbiBjbGFzcz0iaXRlbS1sZXZlbC1pbmxpbmUiPuetiee6p++8miR7aXRlbS5sZXZlbH08L3NwYW4+PC9oND4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InF1YW50aXR5LWNvbnRyb2xzIj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJxdWFudGl0eS1idG4iIGRhdGEtYWN0aW9uPSJkZWNyZWFzZSI+LTwvYnV0dG9uPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJxdWFudGl0eS1pbnB1dCIgdmFsdWU9IiR7aXRlbS5xdWFudGl0eX0iIG1pbj0iMSI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0icXVhbnRpdHktYnRuIiBkYXRhLWFjdGlvbj0iaW5jcmVhc2UiPis8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJxdWFudGl0eS1idG4iIGRhdGEtYWN0aW9uPSJyZW1vdmUiIHRpdGxlPSLnp7vpmaQiPsOXPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgYCkuam9pbignJyk7Cn0KCi8vIOaVsOmHj+iwg+aVtOS4juenu+mZpApzZWxlY3RlZEl0ZW1zTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIGNvbnN0IGl0ZW1EaXYgPSBlLnRhcmdldC5jbG9zZXN0KCcuc2VsZWN0ZWQtaXRlbScpOwogIGlmICghaXRlbURpdikgcmV0dXJuOwogIGNvbnN0IGl0ZW1JZCA9IGl0ZW1EaXYuZGF0YXNldC5pZDsKICBjb25zdCBpZHggPSBzZWxlY3RlZEl0ZW1zLmZpbmRJbmRleChpID0+IGkuaWQgPT09IGl0ZW1JZCk7CiAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjsKICBpZiAoZS50YXJnZXQuZGF0YXNldC5hY3Rpb24gPT09ICdpbmNyZWFzZScpIHsKICAgIHNlbGVjdGVkSXRlbXNbaWR4XS5xdWFudGl0eSsrOwogICAgcmVuZGVyU2VsZWN0ZWRJdGVtcygpOwogIH0gZWxzZSBpZiAoZS50YXJnZXQuZGF0YXNldC5hY3Rpb24gPT09ICdkZWNyZWFzZScpIHsKICAgIGlmIChzZWxlY3RlZEl0ZW1zW2lkeF0ucXVhbnRpdHkgPiAxKSB7CiAgICAgIHNlbGVjdGVkSXRlbXNbaWR4XS5xdWFudGl0eS0tOwogICAgICByZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CiAgICB9CiAgfSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0LmFjdGlvbiA9PT0gJ3JlbW92ZScpIHsKICAgIHNlbGVjdGVkSXRlbXMuc3BsaWNlKGlkeCwgMSk7CiAgICByZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CiAgICByZW5kZXJJdGVtU2VsZWN0aW9uKCk7IC8vIOS/neivgeW3puS+p+WIhue6p+ebruW9leWSjOa7muWKqOato+W4uAogIH0KfSk7Ci8vIOebtOaOpei+k+WFpeaVsOmHjwpzZWxlY3RlZEl0ZW1zTGlzdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4gewogIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdxdWFudGl0eS1pbnB1dCcpKSByZXR1cm47CiAgY29uc3QgaXRlbURpdiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zZWxlY3RlZC1pdGVtJyk7CiAgaWYgKCFpdGVtRGl2KSByZXR1cm47CiAgY29uc3QgaXRlbUlkID0gaXRlbURpdi5kYXRhc2V0LmlkOwogIGNvbnN0IGlkeCA9IHNlbGVjdGVkSXRlbXMuZmluZEluZGV4KGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsKICBsZXQgdmFsID0gcGFyc2VJbnQoZS50YXJnZXQudmFsdWUsIDEwKTsKICBpZiAoaXNOYU4odmFsKSB8fCB2YWwgPCAxKSB2YWwgPSAxOwogIHNlbGVjdGVkSXRlbXNbaWR4XS5xdWFudGl0eSA9IHZhbDsKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g57Sg5p2Q6K6h566XID09PT09PT09PT09PT09PT09PT09PQpjb25zdCBiYXNlTWF0ZXJpYWxzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXNlTWF0ZXJpYWxzTGlzdCcpOwoKY2FsY3VsYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgbWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7or7fpgInmi6nnianlk4HlkI7lho3orqHnrpc8L3A+PC9kaXY+JzsKICAgIGJhc2VNYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuivt+mAieaLqeeJqeWTgeWQjuWGjeiuoeeulzwvcD48L2Rpdj4nOwogICAgcmV0dXJuOwogIH0KICAKICAvLyDmsYfmgLvmiYDmnInntKDmnZDvvIjljIXlkKvlpJrnuqfkvp3otZbvvIkKICBjb25zdCBtYXRlcmlhbE1hcCA9IHt9OwogIGNvbnN0IGJhc2VNYXRlcmlhbE1hcCA9IHt9OwogIAogIGZ1bmN0aW9uIGFkZE1hdGVyaWFsKG1hdGVyaWFsSWQsIHF1YW50aXR5LCBpc0Jhc2UgPSBmYWxzZSkgewogICAgdHJ5IHsKICAgICAgY29uc3QgdGFyZ2V0TWFwID0gaXNCYXNlID8gYmFzZU1hdGVyaWFsTWFwIDogbWF0ZXJpYWxNYXA7CiAgICAgIGNvbnNvbGUubG9nKGDmt7vliqDmnZDmlpk6ICR7bWF0ZXJpYWxJZH0sIOaVsOmHjzogJHtxdWFudGl0eX0sIOaYr+WfuuehgOadkOaWmTogJHtpc0Jhc2V9YCk7CiAgICAgIAogICAgICBpZiAoIW1hdGVyaWFsSWQgfHwgdHlwZW9mIG1hdGVyaWFsSWQgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+adkOaWmUlE5peg5pWI77yM6Lez6L+HJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBpZiAoIXF1YW50aXR5IHx8IHR5cGVvZiBxdWFudGl0eSAhPT0gJ251bWJlcicpIHsKICAgICAgICBjb25zb2xlLmxvZygn5p2Q5paZ5pWw6YeP5peg5pWI77yM6Lez6L+HJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBpZiAoIXRhcmdldE1hcFttYXRlcmlhbElkXSkgewogICAgICAgIC8vIOWwneivleWcqOmFjeaWueS4reafpeaJvuivpeadkOaWmQogICAgICAgIGxldCBpdGVtID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgYWxsSXRlbXMgPSBnZXRBbGxJdGVtc0ZsYXQoKTsKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbEl0ZW1zKSkgewogICAgICAgICAgICBpdGVtID0gYWxsSXRlbXMuZmluZChpID0+IGkgJiYgaS5pZCA9PT0gbWF0ZXJpYWxJZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coYOafpeaJvuadkOaWmSAke21hdGVyaWFsSWR9IOaXtuWHuumUmTpgLCBlKTsKICAgICAgICAgIGl0ZW0gPSBudWxsOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgdGFyZ2V0TWFwW21hdGVyaWFsSWRdID0geyAKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSB8fCBtYXRlcmlhbElkLCAKICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uIHx8ICdhc3NldHMvaWNvbnMvaXRlbXMvZGVmYXVsdC53ZWJwJywKICAgICAgICAgICAgdG90YWw6IDAgCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDln7rnoYDmnZDmlpkKICAgICAgICAgIHRhcmdldE1hcFttYXRlcmlhbElkXSA9IHsgCiAgICAgICAgICAgIGlkOiBtYXRlcmlhbElkLAogICAgICAgICAgICBuYW1lOiBCQVNFX01BVEVSSUFMX05BTUVTW21hdGVyaWFsSWRdIHx8IG1hdGVyaWFsSWQsIAogICAgICAgICAgICBpY29uOiBCQVNFX01BVEVSSUFMX0lDT05TW21hdGVyaWFsSWRdIHx8ICdhc3NldHMvaWNvbnMvaXRlbXMvZGVmYXVsdC53ZWJwJywKICAgICAgICAgICAgdG90YWw6IDAgCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgaWYgKHRhcmdldE1hcFttYXRlcmlhbElkXSkgewogICAgICAgIHRhcmdldE1hcFttYXRlcmlhbElkXS50b3RhbCArPSBxdWFudGl0eTsKICAgICAgICBjb25zb2xlLmxvZyhg5p2Q5paZICR7bWF0ZXJpYWxJZH0g57Sv6K6h5pWw6YePOiAke3RhcmdldE1hcFttYXRlcmlhbElkXS50b3RhbH1gKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcignYWRkTWF0ZXJpYWzlh73mlbDlh7rplJk6JywgZXJyb3IpOwogICAgICBjb25zb2xlLmVycm9yKCflj4LmlbA6JywgeyBtYXRlcmlhbElkLCBxdWFudGl0eSwgaXNCYXNlIH0pOwogICAgfQogIH0KICAKICBmdW5jdGlvbiBwcm9jZXNzUmVjaXBlKHJlY2lwZSwgbXVsdGlwbGllciA9IDEpIHsKICAgIGNvbnNvbGUubG9nKCflpITnkIbphY3mlrk6JywgcmVjaXBlPy5sZW5ndGggPyBgJHtyZWNpcGUubGVuZ3RofeS4quadkOaWmWAgOiAn56m66YWN5pa5JywgJ+WAjeaVsDonLCBtdWx0aXBsaWVyKTsKICAgIGlmICghcmVjaXBlIHx8ICFBcnJheS5pc0FycmF5KHJlY2lwZSkgfHwgcmVjaXBlLmxlbmd0aCA9PT0gMCkgewogICAgICBjb25zb2xlLmxvZygn6YWN5pa55peg5pWI77yM6Lez6L+HJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNpcGUubGVuZ3RoOyBpKyspIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBtYXQgPSByZWNpcGVbaV07CiAgICAgICAgY29uc29sZS5sb2coYOWkhOeQhuadkOaWmVske2l9XTpgLCBtYXQpOwogICAgICAgIAogICAgICAgIC8vIOWuieWFqOajgOafpeadkOaWmeWvueixoQogICAgICAgIGlmICghbWF0IHx8IHR5cGVvZiBtYXQgIT09ICdvYmplY3QnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhg5p2Q5paZWyR7aX1d5peg5pWI77yM6Lez6L+HYCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKCFtYXQuaWQgfHwgdHlwZW9mIG1hdC5pZCAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGDmnZDmlplbJHtpfV3msqHmnInmnInmlYjnmoRpZO+8jOi3s+i/h2ApOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghbWF0LnF1YW50aXR5IHx8IHR5cGVvZiBtYXQucXVhbnRpdHkgIT09ICdudW1iZXInKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhg5p2Q5paZWyR7aX1d5rKh5pyJ5pyJ5pWI55qE5pWw6YeP77yM6Lez6L+HYCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g5qOA5p+l5piv5ZCm5Li65Y2K5oiQ5ZOB77yI5pyJ6YWN5pa577yJCiAgICAgICAgbGV0IGZvdW5kSXRlbSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvdW5kSXRlbSA9IGdldEFsbEl0ZW1zRmxhdCgpLmZpbmQoaXRlbSA9PiBpdGVtICYmIGl0ZW0uaWQgPT09IG1hdC5pZCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coYOafpeaJvuadkOaWmSAke21hdC5pZH0g5pe25Ye66ZSZOmAsIGUpOwogICAgICAgICAgZm91bmRJdGVtID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc3QgaGFzUmVjaXBlID0gZm91bmRJdGVtICYmIGZvdW5kSXRlbS5yZWNpcGUgJiYgQXJyYXkuaXNBcnJheShmb3VuZEl0ZW0ucmVjaXBlKTsKICAgICAgICBjb25zb2xlLmxvZyhg5p2Q5paZICR7bWF0LmlkfSDmmK/lkKbmnInphY3mlrk6YCwgaGFzUmVjaXBlID8gJ+aYrycgOiAn5ZCmJyk7CiAgICAgICAgCiAgICAgICAgaWYgKGhhc1JlY2lwZSkgewogICAgICAgICAgLy8g5Y2K5oiQ5ZOB77yM5Yqg5YWlMue6p+adkOaWmee7n+iuoQogICAgICAgICAgY29uc29sZS5sb2coYCR7bWF0LmlkfSDmmK/ljYrmiJDlk4HvvIzmt7vliqDliLDljYrmiJDlk4HliJfooahgKTsKICAgICAgICAgIGFkZE1hdGVyaWFsKG1hdC5pZCwgbWF0LnF1YW50aXR5ICogbXVsdGlwbGllciwgZmFsc2UpOwogICAgICAgICAgLy8g6YCS5b2S5aSE55CG5Y2K5oiQ5ZOB55qE6YWN5pa5CiAgICAgICAgICBjb25zb2xlLmxvZyhg6YCS5b2S5aSE55CGICR7bWF0LmlkfSDnmoTphY3mlrkuLi5gKTsKICAgICAgICAgIHByb2Nlc3NSZWNpcGUoZm91bmRJdGVtLnJlY2lwZSwgbWF0LnF1YW50aXR5ICogbXVsdGlwbGllcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWfuuehgOadkOaWme+8jOWKoOWFpTHnuqfmnZDmlpnnu5/orqEKICAgICAgICAgIGNvbnNvbGUubG9nKGAke21hdC5pZH0g5piv5Z+656GA5p2Q5paZ77yM5re75Yqg5Yiw5Z+656GA5p2Q5paZ5YiX6KGoYCk7CiAgICAgICAgICBhZGRNYXRlcmlhbChtYXQuaWQsIG1hdC5xdWFudGl0eSAqIG11bHRpcGxpZXIsIHRydWUpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGDlpITnkIbmnZDmlplbJHtpfV3ml7blh7rplJk6YCwgZXJyb3IpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mUmeivr+eahOadkOaWmeWvueixoTonLCByZWNpcGVbaV0pOwogICAgICAgIC8vIOe7p+e7reWkhOeQhuS4i+S4gOS4quadkOaWmQogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgfQogIAogIC8vIOWkhOeQhuaJgOaciemAieS4reeJqeWTgQogIHNlbGVjdGVkSXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgIGlmIChpdGVtLnJlY2lwZSkgewogICAgICBjb25zb2xlLmxvZyhg5byA5aeL5aSE55CG54mp5ZOBOiAke2l0ZW0ubmFtZX1gKTsKICAgICAgcHJvY2Vzc1JlY2lwZShpdGVtLnJlY2lwZSwgaXRlbS5xdWFudGl0eSk7CiAgICB9CiAgfSk7CiAgCiAgY29uc29sZS5sb2coJz09PSDlpITnkIblrozmiJAgPT09Jyk7CiAgY29uc29sZS5sb2coJ+WNiuaIkOWTgeadkOaWmee7n+iuoTonLCBtYXRlcmlhbE1hcCk7CiAgY29uc29sZS5sb2coJ+WfuuehgOadkOaWmee7n+iuoTonLCBiYXNlTWF0ZXJpYWxNYXApOwogIGNvbnNvbGUubG9nKCdiYXNlTWF0ZXJpYWxNYXAga2V5czonLCBPYmplY3Qua2V5cyhiYXNlTWF0ZXJpYWxNYXApKTsKICBjb25zb2xlLmxvZygnYmFzZU1hdGVyaWFsTWFwIHZhbHVlczonLCBPYmplY3QudmFsdWVzKGJhc2VNYXRlcmlhbE1hcCkpOwogIAogIC8vIOa4suafkzLnuqfmnZDmlpnvvIjljYrmiJDlk4HvvIkKICBjb25zdCBsZXZlbDJNYXRzID0gT2JqZWN0LnZhbHVlcyhtYXRlcmlhbE1hcCk7CiAgaWYgKGxldmVsMk1hdHMubGVuZ3RoID4gMCkgewogICAgbWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSBsZXZlbDJNYXRzLm1hcChtYXQgPT4gYAogICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1pdGVtIiBkYXRhLWlkPSIke21hdC5pZH0iPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLWluZm8iPgogICAgICAgICAgPGRpdiBjbGFzcz0ibWF0ZXJpYWwtaWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24obWF0Lm5hbWUsIG1hdC5pY29uKX0iIGFsdD0iJHttYXQubmFtZX0iIHN0eWxlPSJ3aWR0aDoyNHB4O2hlaWdodDoyNHB4OyI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1kZXRhaWxzIj4KICAgICAgICAgICAgPGg0PiR7bWF0Lm5hbWV9PC9oND4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLXF1YW50aXR5Ij7DlyR7bWF0LnRvdGFsfTwvZGl2PgogICAgICA8L2Rpdj4KICAgIGApLmpvaW4oJycpOwogIH0gZWxzZSB7CiAgICBtYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuaXoOmcgOWNiuaIkOWTgeadkOaWmTwvcD48L2Rpdj4nOwogIH0KICAKICAvLyDmuLLmn5Mx57qn5p2Q5paZ77yI5Z+656GA5p2Q5paZ77yJCiAgY29uc3QgbGV2ZWwxTWF0cyA9IE9iamVjdC52YWx1ZXMoYmFzZU1hdGVyaWFsTWFwKTsKICAvLyDnoo7mmbbnsbvmnZDmlplJRAogIGNvbnN0IGNyeXN0YWxJZHMgPSBbCiAgICAn6aOO5LmL56KO5pm2JywgJ+WGsOS5i+eijuaZticsICfpm7fkuYvnoo7mmbYnLCAn5Zyf5LmL56KO5pm2JywgJ+awtOS5i+eijuaZticsICfngavkuYvnoo7mmbYnLAogICAgJ3dpbmRfY3J5c3RhbCcsICdpY2VfY3J5c3RhbCcsICdsaWdodG5pbmdfY3J5c3RhbCcsICdlYXJ0aF9jcnlzdGFsJywgJ3dhdGVyX2NyeXN0YWwnLCAnZmlyZV9jcnlzdGFsJwogIF07CiAgLy8g5YWI5YiG57uECiAgY29uc3Qgbm9ybWFsTWF0cyA9IGxldmVsMU1hdHMuZmlsdGVyKG1hdCA9PiAhY3J5c3RhbElkcy5pbmNsdWRlcyhtYXQuaWQpICYmICFjcnlzdGFsSWRzLmluY2x1ZGVzKG1hdC5uYW1lKSk7CiAgY29uc3QgY3J5c3RhbE1hdHMgPSBsZXZlbDFNYXRzLmZpbHRlcihtYXQgPT4gY3J5c3RhbElkcy5pbmNsdWRlcyhtYXQuaWQpIHx8IGNyeXN0YWxJZHMuaW5jbHVkZXMobWF0Lm5hbWUpKTsKICAvLyDlkIjlubbvvIznoo7mmbbnsbvmjpLmnIDlkI4KICBjb25zdCBzb3J0ZWRMZXZlbDFNYXRzID0gWy4uLm5vcm1hbE1hdHMsIC4uLmNyeXN0YWxNYXRzXTsKICBpZiAoc29ydGVkTGV2ZWwxTWF0cy5sZW5ndGggPiAwKSB7CiAgICBiYXNlTWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSBzb3J0ZWRMZXZlbDFNYXRzLm1hcChtYXQgPT4gYAogICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1pdGVtIiBkYXRhLWlkPSIke21hdC5pZH0iPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLWluZm8iPgogICAgICAgICAgPGRpdiBjbGFzcz0ibWF0ZXJpYWwtaWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24obWF0Lm5hbWUsIG1hdC5pY29uKX0iIGFsdD0iJHttYXQubmFtZX0iIHN0eWxlPSJ3aWR0aDoyNHB4O2hlaWdodDoyNHB4OyI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1kZXRhaWxzIj4KICAgICAgICAgICAgPGg0PiR7bWF0Lm5hbWV9PC9oND4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLXF1YW50aXR5Ij7DlyR7bWF0LnRvdGFsfTwvZGl2PgogICAgICA8L2Rpdj4KICAgIGApLmpvaW4oJycpOwogIH0gZWxzZSB7CiAgICBiYXNlTWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7ml6DpnIDln7rnoYDmnZDmlpk8L3A+PC9kaXY+JzsKICB9Cn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOe0oOadkOivpuaDheW8ueeqlyA9PT09PT09PT09PT09PT09PT09PT0KbWF0ZXJpYWxzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIGNvbnN0IG1hdERpdiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tYXRlcmlhbC1pdGVtJyk7CiAgaWYgKCFtYXREaXYpIHJldHVybjsKICBjb25zdCBtYXRJZCA9IG1hdERpdi5kYXRhc2V0LmlkOwogIC8vIOekuuS+i++8muW8ueeql+Wxleekuue0oOadkOS/oeaBr++8iOWPr+aJqeWxleS4uuiOt+WPluaWueW8j+etie+8iQogIGNvbnN0IG1hdCA9IElURU1TLmZsYXRNYXAoaT0+aS5yZWNpcGVzKS5maW5kKG09Pm0uaWQ9PT1tYXRJZCkgfHwge307CiAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IG1hdC5uYW1lIHx8ICfntKDmnZDor6bmg4UnOwogIG1vZGFsQm9keS5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxNnB4OyI+CiAgICAgIDxpbWcgc3JjPSIke2dldEl0ZW1JY29uKG1hdC5uYW1lLCBtYXQuaWNvbil9IiBhbHQ9IiR7bWF0Lm5hbWV8fCcnfSIgc3R5bGU9IndpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7Ij4KICAgICAgPGRpdj4KICAgICAgICA8ZGl2PuWQjeensO+8miR7bWF0Lm5hbWV8fCcnfTwvZGl2PgogICAgICAgIDxkaXY+77yI5q2k5aSE5Y+v5omp5bGV5pi+56S66I635Y+W5pa55byP44CB6YeH6ZuG5Zyw54K544CB5ZWG5bqX5Lu35qC8562J77yJPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgYDsKICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKfSk7Cm1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7Cn0pOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5Yid5aeL5YyW5riy5p+TID09PT09PT09PT09PT09PT09PT09PQpyZW5kZXJJdGVtcygpOwpyZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5YW25LuW5Yqf6IO977yI5pS26JeP44CB6K6+572u562J5Y+v5ZCO57ut5omp5bGV77yJID09PT09PT09PT09PT09PT09PT09PQovLyAuLi4gCgovLyDliIbnsbvlsZXlvIAv5oqY5Y+g5LqL5Lu2Cml0ZW1zR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIC8vIOaJuemHj+mAieaLqeaMiemSrueCueWHu+S6i+S7tgogIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuY2F0ZWdvcnktc2VsZWN0LWFsbC1idG4nKSkgewogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8g6Zi75q2i5LqL5Lu25YaS5rOh5Yiw5YiG57G75qCH6aKYCiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuY2F0ZWdvcnktc2VsZWN0LWFsbC1idG4nKTsKICAgIGNvbnN0IGNhdGVnb3J5ID0gYnRuLmRhdGFzZXQuY2F0ZWdvcnk7CiAgICAKICAgIC8vIOiOt+WPluivpeWIhuexu+S4i+eahOaJgOaciemFjeaWuQogICAgY29uc3QgY2F0ZWdvcnlJdGVtcyA9IElURU1TLmZpbmQoY2F0ID0+IGNhdC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpPy5yZWNpcGVzIHx8IFtdOwogICAgCiAgICAvLyDmibnph4/mt7vliqDliLDlt7LpgInnianlk4HkuK3vvIjot7Pov4flt7LlrZjlnKjnmoTvvIkKICAgIGxldCBhZGRlZENvdW50ID0gMDsKICAgIGNhdGVnb3J5SXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgY29uc3QgZXhpc3QgPSBzZWxlY3RlZEl0ZW1zLmZpbmQoc2VsID0+IHNlbC5pZCA9PT0gaXRlbS5pZCk7CiAgICAgIGlmICghZXhpc3QpIHsKICAgICAgICBzZWxlY3RlZEl0ZW1zLnB1c2goeyAuLi5pdGVtLCBxdWFudGl0eTogMSB9KTsKICAgICAgICBhZGRlZENvdW50Kys7CiAgICAgIH0KICAgIH0pOwogICAgCiAgICAvLyDmm7TmlrDmmL7npLoKICAgIHJlbmRlclNlbGVjdGVkSXRlbXMoKTsKICAgIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsKICAgIAogICAgLy8g5pi+56S65o+Q56S65L+h5oGvCiAgICBpZiAoYWRkZWRDb3VudCA+IDApIHsKICAgICAgY29uc29sZS5sb2coYOW3suaJuemHj+a3u+WKoCAke2FkZGVkQ291bnR9IOS4qumFjeaWueWIsOW3sumAieeJqeWTgWApOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coJ+ivpeWIhuexu+S4i+eahOmFjeaWueW3suWFqOmDqOWcqOW3sumAieeJqeWTgeS4rScpOwogICAgfQogICAgCiAgICByZXR1cm47CiAgfQogIAogIGNvbnN0IGNhdEhlYWRlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pdGVtLWNhdGVnb3J5LWhlYWRlcicpOwogIGlmIChjYXRIZWFkZXIgJiYgIWUudGFyZ2V0LmNsb3Nlc3QoJy5pdGVtLWNhcmQnKSkgewogICAgY29uc3QgY2F0ID0gY2F0SGVhZGVyLmRhdGFzZXQuY2F0ZWdvcnk7CiAgICBjYXRlZ29yeUV4cGFuZFN0YXRlW2NhdF0gPSAhY2F0ZWdvcnlFeHBhbmRTdGF0ZVtjYXRdOwogICAgcmVuZGVySXRlbVNlbGVjdGlvbigpOwogICAgcmV0dXJuOwogIH0KICAvLyAuLi7ljp/mnIlpdGVtLWNhcmTngrnlh7vpgLvovpEuLi4KfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5LiA6ZSu5riF56m65bey6YCJ54mp5ZOBID09PT09PT09PT09PT09PT09PT09PQpjb25zdCBjbGVhclNlbGVjdGVkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyU2VsZWN0ZWRCdG4nKTsKaWYgKGNsZWFyU2VsZWN0ZWRCdG4pIHsKICBjbGVhclNlbGVjdGVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgLy8g5riF56m65bey6YCJ54mp5ZOB5pWw57uECiAgICBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA9IDA7CiAgICAvLyDliLfmlrDlt7LpgInnianlk4HliJfooagKICAgIHJlbmRlclNlbGVjdGVkSXRlbXMoKTsKICAgIC8vIOWIt+aWsOW3puS+p+eJqeWTgemAieaLqeWMuu+8iOWQq+WIhuexu+iPnOWNleWSjOmrmOS6ru+8iQogICAgcmVuZGVySXRlbVNlbGVjdGlvbigpOwogICAgLy8g5riF56m66K6h566X57uT5p6c5Yy65Z+fCiAgICBtYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuivt+mAieaLqeeJqeWTgeWQjuWGjeiuoeeulzwvcD48L2Rpdj4nOwogICAgYmFzZU1hdGVyaWFsc0xpc3QuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj48aSBjbGFzcz0iZmFzIGZhLWJveGVzIj48L2k+PHA+6K+36YCJ5oup54mp5ZOB5ZCO5YaN6K6h566XPC9wPjwvZGl2Pic7CiAgfSk7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PSDkuLvpopjliIfmjaLlip/og70gPT09PT09PT09PT09PT09PT09PT09CmNsYXNzIFRoZW1lTWFuYWdlciB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmN1cnJlbnRUaGVtZSA9IHRoaXMuZ2V0U3RvcmVkVGhlbWUoKSB8fCAnZGFyayc7CiAgICB0aGlzLnRoZW1lVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lVG9nZ2xlJyk7CiAgICB0aGlzLmluaXQoKTsKICB9CgogIC8vIOiOt+WPluWtmOWCqOeahOS4u+mimAogIGdldFN0b3JlZFRoZW1lKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmZjE0LWNhbGN1bGF0b3ItdGhlbWUnKTsKICB9CgogIC8vIOWtmOWCqOS4u+mimAogIHNldFN0b3JlZFRoZW1lKHRoZW1lKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmYxNC1jYWxjdWxhdG9yLXRoZW1lJywgdGhlbWUpOwogIH0KCiAgLy8g5bqU55So5Li76aKYCiAgYXBwbHlUaGVtZSh0aGVtZSkgewogICAgaWYgKHRoZW1lID09PSAnbGlnaHQnKSB7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnbGlnaHQnKTsKICAgICAgdGhpcy50aGVtZVRvZ2dsZS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1zdW4iPjwvaT4nOwogICAgICB0aGlzLnRoZW1lVG9nZ2xlLnRpdGxlID0gJ+WIh+aNouWIsOWknOaZmuaooeW8jyc7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRoZW1lJyk7CiAgICAgIHRoaXMudGhlbWVUb2dnbGUuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtbW9vbiI+PC9pPic7CiAgICAgIHRoaXMudGhlbWVUb2dnbGUudGl0bGUgPSAn5YiH5o2i5Yiw55m95aSp5qih5byPJzsKICAgIH0KICAgIHRoaXMuY3VycmVudFRoZW1lID0gdGhlbWU7CiAgICB0aGlzLnNldFN0b3JlZFRoZW1lKHRoZW1lKTsKICB9CgogIC8vIOWIh+aNouS4u+mimAogIHRvZ2dsZVRoZW1lKCkgewogICAgY29uc3QgbmV3VGhlbWUgPSB0aGlzLmN1cnJlbnRUaGVtZSA9PT0gJ2RhcmsnID8gJ2xpZ2h0JyA6ICdkYXJrJzsKICAgIAogICAgLy8g5re75Yqg5YiH5o2i5Yqo55S7CiAgICB0aGlzLnRoZW1lVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ3RoZW1lLXRyYW5zaXRpb24nKTsKICAgIAogICAgLy8g5bu26L+f5bqU55So5Li76aKY77yM6YWN5ZCI5Yqo55S75pWI5p6cCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5hcHBseVRoZW1lKG5ld1RoZW1lKTsKICAgICAgCiAgICAgIC8vIOenu+mZpOWKqOeUu+exuwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnRoZW1lVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ3RoZW1lLXRyYW5zaXRpb24nKTsKICAgICAgfSwgNDAwKTsKICAgIH0sIDIwMCk7CiAgfQoKICAvLyDliJ3lp4vljJYKICBpbml0KCkgewogICAgaWYgKCF0aGlzLnRoZW1lVG9nZ2xlKSB7CiAgICAgIGNvbnNvbGUud2Fybign5Li76aKY5YiH5o2i5oyJ6ZKu5pyq5om+5YiwJyk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyDlupTnlKjliJ3lp4vkuLvpopgKICAgIHRoaXMuYXBwbHlUaGVtZSh0aGlzLmN1cnJlbnRUaGVtZSk7CgogICAgLy8g57uR5a6a54K55Ye75LqL5Lu2CiAgICB0aGlzLnRoZW1lVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICB0aGlzLnRvZ2dsZVRoZW1lKCk7CiAgICB9KTsKCiAgICAvLyDmt7vliqDplK7nm5jlv6vmjbfplK4gKEN0cmwvQ21kICsgU2hpZnQgKyBUKQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgIGlmICgoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgZS5zaGlmdEtleSAmJiBlLmtleSA9PT0gJ1QnKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMudG9nZ2xlVGhlbWUoKTsKICAgICAgfQogICAgfSk7CiAgfQp9CgovLyDliJ3lp4vljJbkuLvpopjnrqHnkIblmagKY29uc3QgdGhlbWVNYW5hZ2VyID0gbmV3IFRoZW1lTWFuYWdlcigpOwoKLy8g5LqL5Lu25aeU5omY77ya5Y+q55yL5pS26JeP5qih5byP5LiL77yM54K55Ye75pif5pif5Y+W5raI5pS26JeP5bm25Yi35pawCml0ZW1zR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsKICBpZiAoc2hvd0Zhdk9ubHkgJiYgZS50YXJnZXQuY2xvc2VzdCgnLmZhdi1idG4nKSkgewogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8g6Ziy5q2i5LqL5Lu25YaS5rOh5a+86Ie05aSa5qyh6Kem5Y+RCiAgICAvLyDlj6rlpITnkIbmnIDov5HnmoTkuIDkuKppdGVtLWNhcmQKICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5mYXYtYnRuJyk7CiAgICBjb25zdCBjYXJkID0gYnRuLmNsb3Nlc3QoJy5pdGVtLWNhcmQnKTsKICAgIGlmICghY2FyZCkgcmV0dXJuOwogICAgY29uc3QgaXRlbUlkID0gY2FyZC5kYXRhc2V0LmlkOwogICAgLy8g5Y+q56e76Zmk5pS26JeP77yM5LiN5YGa5YW25LuW5pON5L2cCiAgICBmYXZJdGVtcyA9IGZhdkl0ZW1zLmZpbHRlcihpZCA9PiBpZCAhPT0gaXRlbUlkKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmZjE0X2ZhdnMnLCBKU09OLnN0cmluZ2lmeShmYXZJdGVtcykpOwogICAgcmVuZGVySXRlbVNlbGVjdGlvbigpOyAvLyDnq4vljbPliLfmlrDlj6rnnIvmlLbol4/liJfooagKICAgIHJldHVybjsKICB9Cn0pOw==';
    
    // 正确处理UTF-8编码的Base64解码
    function decodeUTF8(str) {
        try {
            // 先进行Base64解码，然后处理UTF-8字符
            const decoded = atob(str);
            // 将每个字符转换为UTF-8字符
            return decodeURIComponent(escape(decoded));
        } catch (error) {
            console.error('解码失败:', error);
            return null;
        }
    }
    
    const decoded = decodeUTF8(encoded);
    if (decoded) {
        eval(decoded);
    }
})();
// Protected by FF14Calculator Simple Build System