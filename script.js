
(function() {
    const encoded = 'Ly8gRkYxNOeUn+S6p+iBjOS4muiuoeeul+WZqCAtIOS6pOS6kumAu+i+kQovLyDkvZzogIXvvJpBSeWKqeaJiwovLyDor7TmmI7vvJrmnKzmlofku7bkuLrmvJTnpLrnlKjvvIzmlbDmja7kuLrlhoXnva7npLrkvovvvIzlkI7nu63lj6/mm7/mjaLkuLrnnJ/lrp7mlbDmja7miJZKU09O5paH5Lu2CgovLyA9PT09PT09PT09PT09PT09PT09PT0g56S65L6L5pWw5o2uID09PT09PT09PT09PT09PT09PT09PQovLyDogYzkuJrliJfooagKY29uc3QgSk9CUyA9IFsKICB7IGtleTogJ3F1aWNrY2FsYycsIG5hbWU6ICflv6vmjbforqHnrpcnLCBpY29uOiAnYXNzZXRzL2ljb25zL2pvYnMvMzJweC3ogYzkuJrlm77moIdf6IO95bel5ben5YygLndlYnAnIH0sCiAgeyBrZXk6ICdjYXJwZW50ZXInLCBuYW1lOiAn5Yi75pyo5YygJyB9LAogIHsga2V5OiAnYmxhY2tzbWl0aCcsIG5hbWU6ICfplLvpk4HljKAnIH0sCiAgeyBrZXk6ICdhcm1vcmVyJywgbmFtZTogJ+mTuOeUsuWMoCcgfSwKICB7IGtleTogJ2dvbGRzbWl0aCcsIG5hbWU6ICfpm5Xph5HljKAnIH0sCiAgeyBrZXk6ICdsZWF0aGVyd29ya2VyJywgbmFtZTogJ+WItumdqeWMoCcgfSwKICB7IGtleTogJ3dlYXZlcicsIG5hbWU6ICfoo4HooaPljKAnIH0sCiAgeyBrZXk6ICdhbGNoZW1pc3QnLCBuYW1lOiAn54K86YeR5pyv5aOrJyB9LAogIHsga2V5OiAnY3VsaW5hcmlhbicsIG5hbWU6ICfng7nosIPluIgnIH0KXTsKCi8vIOeUn+S6p+iBjOS4muS4jmpzb27mlofku7blkI3mmKDlsIQKY29uc3QgSk9CX0pTT05fTUFQID0gewogICdxdWlja2NhbGMnOiAncXVpY2tjYWxjJywKICAnY2FycGVudGVyJzogJ2NhcnBlbnRlcicsCiAgJ2JsYWNrc21pdGgnOiAnYmxhY2tzbWl0aCcsCiAgJ2FybW9yZXInOiAnYXJtb3JlcicsCiAgJ2dvbGRzbWl0aCc6ICdnb2xkc21pdGgnLAogICdsZWF0aGVyd29ya2VyJzogJ2xlYXRoZXJ3b3JrZXInLAogICd3ZWF2ZXInOiAnd2VhdmVyJywKICAnYWxjaGVtaXN0JzogJ2FsY2hlbWlzdCcsCiAgJ2N1bGluYXJpYW4nOiAnY3VsaW5hcmlhbicKfTsKCi8vIOW9k+WJjemFjeaWueaVsOaNrgpsZXQgSVRFTVMgPSBbXTsKCi8vID09PT09PT09PT0g5YWo6IGM5Lia6YWN5pa55YWo6YeP5pWw5o2u77yM5pSv5oyB6Leo6IGM5Lia5Y2K5oiQ5ZOB6YCS5b2SID09PT09PT09PT0gLy8KbGV0IEFMTF9SRUNJUEVTID0gW107CmFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxSZWNpcGVzRm9yQ2FsYygpIHsKICBjb25zdCBqb2JzID0gT2JqZWN0LmtleXMoSk9CX0pTT05fTUFQKTsKICBsZXQgYWxsID0gW107CiAgCiAgLy8g5qOA5p+l5piv5ZCm5pyJ5YaF5bWM6YWN5pa55pWw5o2uCiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTKSB7CiAgICAvLyDkvb/nlKjlhoXltYzmlbDmja4KICAgIGZvciAoY29uc3Qgam9iIG9mIGpvYnMpIHsKICAgICAgaWYgKHdpbmRvdy5FTUJFRERFRF9SRUNJUEVTW2pvYl0pIHsKICAgICAgICBhbGwucHVzaCguLi53aW5kb3cuRU1CRURERURfUkVDSVBFU1tqb2JdLmZsYXRNYXAoY2F0ID0+IGNhdC5yZWNpcGVzKSk7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgLy8g5L2/55SoZmV0Y2jliqDovb3vvIjlvIDlj5HmqKHlvI/vvIkKICAgIGZvciAoY29uc3Qgam9iIG9mIGpvYnMpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGBhc3NldHMvcmVjaXBlLyR7Sk9CX0pTT05fTUFQW2pvYl19Lmpzb25gOwogICAgICAgIAogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGZpbGVQYXRoKTsKICAgICAgICBpZiAocmVzLm9rKSB7CiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgIGFsbC5wdXNoKC4uLmRhdGEuZmxhdE1hcChjYXQgPT4gY2F0LnJlY2lwZXMpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBsb2FkIHJlY2lwZXMgZm9yICR7am9ifTpgLCBlKTsKICAgICAgfQogICAgfQogIH0KICBBTExfUkVDSVBFUyA9IGFsbDsKfQoKLy8g5oyJ6IGM5Lia5Yqg6L296YWN5pa5CmFzeW5jIGZ1bmN0aW9uIGxvYWRKb2JSZWNpcGVzKGpvYikgewogIGlmIChqb2IgPT09ICdhbGwnKSB7CiAgICBhd2FpdCBsb2FkQWxsUmVjaXBlc0ZvckNhbGMoKTsKICB9IGVsc2UgewogICAgLy8g55Sf5Lqn6IGM5LiaCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LkVNQkVEREVEX1JFQ0lQRVMpIHsKICAgICAgSVRFTVMgPSB3aW5kb3cuRU1CRURERURfUkVDSVBFU1tqb2JdIHx8IFtdOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgZmlsZSA9IGBhc3NldHMvcmVjaXBlLyR7Sk9CX0pTT05fTUFQW2pvYl19Lmpzb25gOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGZpbGUpOwogICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ+mFjeaWueaWh+S7tuWKoOi9veWksei0pScpOwogICAgICAgIElURU1TID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGxvYWQgcmVjaXBlcyBmb3IgJHtqb2J9OmAsIGUpOwogICAgICAgIElURU1TID0gW107CiAgICAgIH0KICAgIH0KICB9CiAgLy8g5YiH5o2i6IGM5Lia5pe26YeN572u5YiG57G75bGV5byA54q25oCB5Li65YWo6YOo5oqY5Y+gCiAgY2F0ZWdvcnlFeHBhbmRTdGF0ZSA9IHt9OwogIC8vIOmHjeaWsOa4suafk+eJqeWTgemAieaLqeWMuuOAgeW3sumAieeJqeWTgeOAgeiuoeeul+e7k+aenOetiQogIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsKICBtYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPueCueWHu+iuoeeul+aMiemSruafpeeci+WNiuaIkOWTgTwvcD48L2Rpdj4nOwogIGJhc2VNYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPueCueWHu+iuoeeul+aMiemSruafpeeci+WfuuehgOadkOaWmTwvcD48L2Rpdj4nOwp9CgovLyDogYzkuJrliIfmjaLml7boh6rliqjliqDovb3phY3mlrkKYXN5bmMgZnVuY3Rpb24gb25Kb2JDaGFuZ2Uoam9iKSB7CiAgYXdhaXQgbG9hZEpvYlJlY2lwZXMoam9iKTsKICAvLyDlhbbku5bogYzkuJrliIfmjaLpgLvovpEuLi4KfQoKLy8g6aG16Z2i5Yid5aeL5YyW5pe25Yqg6L295YWo6IGM5Lia6YWN5pa5CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYXN5bmMgKCkgPT4gewogIC8vIOajgOafpURPTeWFg+e0oOaYr+WQpuato+ehruiOt+WPlgogIGF3YWl0IGxvYWRBbGxSZWNpcGVzRm9yQ2FsYygpOyAvLyDlhYjliqDovb3lhajph4/phY3mlrkKICAKICAvLyDor7fmsYLpgJrnn6XmnYPpmZAKICBhd2FpdCByZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpOwogIAogIGNvbnN0IGRlZmF1bHRKb2IgPSAncXVpY2tjYWxjJzsgLy8g5pS55Li66buY6K6k6YCJ5oup5b+r5o236K6h566XCiAgY3VycmVudEpvYiA9IGRlZmF1bHRKb2I7CiAgCiAgYXdhaXQgb25Kb2JDaGFuZ2UoZGVmYXVsdEpvYik7CiAgCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi10YWInKS5mb3JFYWNoKGJ0biA9PiB7CiAgICBpZiAoYnRuLmRhdGFzZXQuam9iID09PSBkZWZhdWx0Sm9iKSB7CiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgIH0gZWxzZSB7CiAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgIH0KICB9KTsKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g54mp5ZOB5LiO6YWN5pa556S65L6L77yI55yf5a6e6aG555uu6K+355SoSlNPTuaWh+S7tuabv+aNou+8iSA9PT09PT09PT09PT09PT09PT09PT0KY29uc3QgSVRFTVNfRVhBTVBMRSA9IFsKICB7CiAgICBpZDogJ2dvbGRfaW5nb3QnLAogICAgbmFtZTogJ+e7v+mHkemUrScsCiAgICBsZXZlbDogMzcsCiAgICBqb2I6ICdnb2xkc21pdGgnLAogICAgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/nu7/ph5HplK0ud2VicCcsCiAgICByZWNpcGU6IFsKICAgICAgeyBpZDogJ3Jhd19vcmUnLCBuYW1lOiAn57u/6YeR55+/55+zJywgcXVhbnRpdHk6IDIsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMvcmF3X29yZS5wbmcnIH0sCiAgICAgIHsgaWQ6ICdjcnlzdGFsJywgbmFtZTogJ+awtOaZticsIHF1YW50aXR5OiA0LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL2NyeXN0YWwucG5nJyB9CiAgICBdCiAgfSwKICB7CiAgICBpZDogJ2dvbGRfcmluZycsCiAgICBuYW1lOiAn57u/6YeR546vJywKICAgIGxldmVsOiAzOCwKICAgIGpvYjogJ2dvbGRzbWl0aCcsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+e7v+mHkeeOry53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAnZ29sZF9pbmdvdCcsIG5hbWU6ICfnu7/ph5HplK0nLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/nu7/ph5HplK0ud2VicCcgfSwKICAgICAgeyBpZDogJ2NyeXN0YWwnLCBuYW1lOiAn5rC05pm2JywgcXVhbnRpdHk6IDIsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMvY3J5c3RhbC5wbmcnIH0KICAgIF0KICB9LAogIHsKICAgIGlkOiAnc3BydWNlX2hlYWxpbmdfc2hvZXMnLAogICAgbmFtZTogJ+S6keadieayu+aEiOacqOmeiycsCiAgICBsZXZlbDogNTAsCiAgICBqb2I6ICdjYXJwZW50ZXInLAogICAgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/kupHmnYnmsrvmhIjmnKjpnosud2VicCcsCiAgICByZWNpcGU6IFsKICAgICAgeyBpZDogJ3NwcnVjZV9sdW1iZXInLCBuYW1lOiAn5LqR5p2J5pyo5p2QJywgcXVhbnRpdHk6IDIsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv5LqR5p2J5pyo5p2QLndlYnAnIH0sCiAgICAgIHsgaWQ6ICdzaWxrX3RocmVhZCcsIG5hbWU6ICflpKnompXkuJ0nLCBxdWFudGl0eTogMSwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/lpKnompXkuJ0ud2VicCcgfSwKICAgICAgeyBpZDogJ3JhcHRvcl9sZWF0aGVyJywgbmFtZTogJ+ebl+m+memdqScsIHF1YW50aXR5OiAxLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+ebl+m+memdqS53ZWJwJyB9LAogICAgICB7IGlkOiAnaGlnaF9wdXJpdHlfc29sdmVudCcsIG5hbWU6ICfpq5jnuq/luqblv4Plipvngrzph5HmurbliYInLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/pq5jnuq/luqblv4Plipvngrzph5HmurbliYIud2VicCcgfSwKICAgICAgeyBpZDogJ3dpbmRfY3J5c3RhbCcsIG5hbWU6ICfpo47kuYvnoo7mmbYnLCBxdWFudGl0eTogNiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/po47kuYvnoo7mmbYud2VicCcgfSwKICAgICAgeyBpZDogJ2ljZV9jcnlzdGFsJywgbmFtZTogJ+WGsOS5i+eijuaZticsIHF1YW50aXR5OiA2LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+WGsOS5i+eijuaZti53ZWJwJyB9CiAgICBdCiAgfSwKICAvLyDljYrmiJDlk4HmnZDmlpnlrprkuYkKICB7CiAgICBpZDogJ3NwcnVjZV9sdW1iZXInLAogICAgbmFtZTogJ+S6keadieacqOadkCcsCiAgICBsZXZlbDogNDUsCiAgICBqb2I6ICdjYXJwZW50ZXInLAogICAgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/kupHmnYnmnKjmnZAud2VicCcsCiAgICByZWNpcGU6IFsKICAgICAgeyBpZDogJ3NwcnVjZV9sb2cnLCBuYW1lOiAn5LqR5p2J5Y6f5pyoJywgcXVhbnRpdHk6IDUsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv5LqR5p2J5Y6f5pyoLndlYnAnIH0sCiAgICAgIHsgaWQ6ICd0cmVlX3NhcCcsIG5hbWU6ICfmoJHmsYHlnZcnLCBxdWFudGl0eTogMiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/moJHmsYHlnZcud2VicCcgfSwKICAgICAgeyBpZDogJ3dpbmRfY3J5c3RhbCcsIG5hbWU6ICfpo47kuYvnoo7mmbYnLCBxdWFudGl0eTogNiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/po47kuYvnoo7mmbYud2VicCcgfQogICAgXQogIH0sCiAgewogICAgaWQ6ICdzaWxrX3RocmVhZCcsCiAgICBuYW1lOiAn5aSp6JqV5LidJywKICAgIGxldmVsOiA0OCwKICAgIGpvYjogJ3dlYXZlcicsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+WkqeialeS4nS53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAnY29jb29uJywgbmFtZTogJ+ialeiMpycsIHF1YW50aXR5OiAzLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+ialeiMpy53ZWJwJyB9LAogICAgICB7IGlkOiAnZ3JheV9qdWljZScsIG5hbWU6ICfngbDmsYEnLCBxdWFudGl0eTogMSwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/ngbDmsYEud2VicCcgfSwKICAgICAgeyBpZDogJ2xpZ2h0bmluZ19jcnlzdGFsJywgbmFtZTogJ+mbt+S5i+eijuaZticsIHF1YW50aXR5OiA2LCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+mbt+S5i+eijuaZti53ZWJwJyB9CiAgICBdCiAgfSwKICB7CiAgICBpZDogJ3JhcHRvcl9sZWF0aGVyJywKICAgIG5hbWU6ICfnm5fpvpnpnaknLAogICAgbGV2ZWw6IDQ2LAogICAgam9iOiAnbGVhdGhlcndvcmtlcicsCiAgICBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+ebl+m+memdqS53ZWJwJywKICAgIHJlY2lwZTogWwogICAgICB7IGlkOiAncmFwdG9yX2hpZGUnLCBuYW1lOiAn55uX6b6Z55qE57KX55quJywgcXVhbnRpdHk6IDIsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv55uX6b6Z55qE57KX55quLndlYnAnIH0sCiAgICAgIHsgaWQ6ICdibGFja19hbHVtJywgbmFtZTogJ+m7keaYjuefvicsIHF1YW50aXR5OiAxLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+m7keaYjuefvi53ZWJwJyB9LAogICAgICB7IGlkOiAnZWFydGhfY3J5c3RhbCcsIG5hbWU6ICflnJ/kuYvnoo7mmbYnLCBxdWFudGl0eTogNCwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/lnJ/kuYvnoo7mmbYud2VicCcgfQogICAgXQogIH0sCiAgewogICAgaWQ6ICdoaWdoX3B1cml0eV9zb2x2ZW50JywKICAgIG5hbWU6ICfpq5jnuq/luqblv4Plipvngrzph5HmurbliYInLAogICAgbGV2ZWw6IDQ5LAogICAgam9iOiAnYWxjaGVtaXN0JywKICAgIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv6auY57qv5bqm5b+D5Yqb54K86YeR5rq25YmCLndlYnAnLAogICAgcmVjaXBlOiBbCiAgICAgIHsgaWQ6ICdzYXZpbl9taXN0bGV0b2UnLCBuYW1lOiAn6JCo57u05aWI5qey5a+E55SfJywgcXVhbnRpdHk6IDUsIGljb246ICdhc3NldHMvaWNvbnMvaXRlbXMv6JCo57u05aWI5qey5a+E55SfLndlYnAnIH0sCiAgICAgIHsgaWQ6ICdwdXJlX3dhdGVyJywgbmFtZTogJ+e6r+WHgOawtCcsIHF1YW50aXR5OiAyLCBpY29uOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+e6r+WHgOawtC53ZWJwJyB9LAogICAgICB7IGlkOiAnd2F0ZXJfY3J5c3RhbCcsIG5hbWU6ICfmsLTkuYvnoo7mmbYnLCBxdWFudGl0eTogNiwgaWNvbjogJ2Fzc2V0cy9pY29ucy9pdGVtcy/msLTkuYvnoo7mmbYud2VicCcgfQogICAgXQogIH0KXTsKCi8vIOWfuuehgOadkOaWmeWbvuagh+aYoOWwhApjb25zdCBCQVNFX01BVEVSSUFMX0lDT05TID0gewogICdzcHJ1Y2VfbG9nJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/kupHmnYnljp/mnKgud2VicCcsCiAgJ3RyZWVfc2FwJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/moJHmsYHlnZcud2VicCcsCiAgJ2NvY29vbic6ICdhc3NldHMvaWNvbnMvaXRlbXMv6JqV6IynLndlYnAnLAogICdncmF5X2p1aWNlJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/ngbDmsYEud2VicCcsCiAgJ3JhcHRvcl9oaWRlJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/nm5fpvpnnmoTnspfnmq4ud2VicCcsCiAgJ2JsYWNrX2FsdW0nOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+m7keaYjuefvi53ZWJwJywKICAnc2F2aW5fbWlzdGxldG9lJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/okKjnu7TlpYjmp7Llr4TnlJ8ud2VicCcsCiAgJ3B1cmVfd2F0ZXInOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+e6r+WHgOawtC53ZWJwJywKICAnd2luZF9jcnlzdGFsJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/po47kuYvnoo7mmbYud2VicCcsCiAgJ2ljZV9jcnlzdGFsJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/lhrDkuYvnoo7mmbYud2VicCcsCiAgJ2xpZ2h0bmluZ19jcnlzdGFsJzogJ2Fzc2V0cy9pY29ucy9pdGVtcy/pm7fkuYvnoo7mmbYud2VicCcsCiAgJ2VhcnRoX2NyeXN0YWwnOiAnYXNzZXRzL2ljb25zL2l0ZW1zL+Wcn+S5i+eijuaZti53ZWJwJywKICAnd2F0ZXJfY3J5c3RhbCc6ICdhc3NldHMvaWNvbnMvaXRlbXMv5rC05LmL56KO5pm2LndlYnAnCn07CgovLyDln7rnoYDmnZDmlpnkuK3mloflkI3np7DmmKDlsIQKY29uc3QgQkFTRV9NQVRFUklBTF9OQU1FUyA9IHsKICAnc3BydWNlX2xvZyc6ICfkupHmnYnljp/mnKgnLAogICd0cmVlX3NhcCc6ICfmoJHmsYHlnZcnLAogICdjb2Nvb24nOiAn6JqV6IynJywKICAnZ3JheV9qdWljZSc6ICfngbDmsYEnLAogICdyYXB0b3JfaGlkZSc6ICfnm5fpvpnnmoTnspfnmq4nLAogICdibGFja19hbHVtJzogJ+m7keaYjuefvicsCiAgJ3NhdmluX21pc3RsZXRvZSc6ICfokKjnu7TlpYjmp7Llr4TnlJ8nLAogICdwdXJlX3dhdGVyJzogJ+e6r+WHgOawtCcsCiAgJ3dpbmRfY3J5c3RhbCc6ICfpo47kuYvnoo7mmbYnLAogICdpY2VfY3J5c3RhbCc6ICflhrDkuYvnoo7mmbYnLAogICdsaWdodG5pbmdfY3J5c3RhbCc6ICfpm7fkuYvnoo7mmbYnLAogICdlYXJ0aF9jcnlzdGFsJzogJ+Wcn+S5i+eijuaZticsCiAgJ3dhdGVyX2NyeXN0YWwnOiAn5rC05LmL56KO5pm2Jwp9OwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOeKtuaAgeeuoeeQhiA9PT09PT09PT09PT09PT09PT09PT0KbGV0IGN1cnJlbnRKb2IgPSAnY2FycGVudGVyJzsKbGV0IHNlYXJjaEtleXdvcmQgPSAnJzsKbGV0IHNlbGVjdGVkSXRlbXMgPSBbXTsKCi8vID09PT09PT09PT09PT09PT09PT09PSBET00g5YWD57Sg6I635Y+WID09PT09PT09PT09PT09PT09PT09PQpjb25zdCBqb2JUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpvYi10YWInKTsKY29uc3QgaXRlbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1zR3JpZCcpOwpjb25zdCBpdGVtU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1TZWFyY2gnKTsKY29uc3Qgc2VsZWN0ZWRJdGVtc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0ZWRJdGVtc0xpc3QnKTsKY29uc3QgY2FsY3VsYXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGN1bGF0ZUJ0bicpOwpjb25zdCBtYXRlcmlhbHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdGVyaWFsc0xpc3QnKTsKY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0ZXJpYWxNb2RhbCcpOwpjb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsVGl0bGUnKTsKY29uc3QgbW9kYWxCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsQm9keScpOwpjb25zdCBtb2RhbENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsQ2xvc2UnKTsKCi8vID09PT09PT09PT0g5pS26JeP5Yqf6IO9ID09PT09PT09PT0gLy8KbGV0IGZhdkl0ZW1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmYxNF9mYXZzJykgfHwgJ1tdJyk7CmxldCBzaG93RmF2T25seSA9IGZhbHNlOwpjb25zdCBmYXZUb2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmF2VG9nZ2xlQnRuJyk7CgoKCgoKCgoKCi8vIOWkmue6p+WIhuexu+S4i+eahOeJqeWTgei/h+a7pApmdW5jdGlvbiBmaWx0ZXJJdGVtc0J5Q2F0ZWdvcnkoKSB7CiAgaWYgKCFBcnJheS5pc0FycmF5KElURU1TKSkgcmV0dXJuIFtdOwogIGNvbnN0IHJlc3VsdCA9IFtdOwogIElURU1TLmZvckVhY2goY2F0ID0+IHsKICAgIC8vIOWIhuexu+S4i+eahOmFjeaWueetm+mAiQogICAgY29uc3QgZmlsdGVyZWQgPSBjYXQucmVjaXBlcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgIGNvbnN0IG1hdGNoSm9iID0gaXRlbS5qb2IgPT09IGN1cnJlbnRKb2I7CiAgICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaEtleXdvcmQgfHwgaXRlbS5uYW1lLmluY2x1ZGVzKHNlYXJjaEtleXdvcmQpOwogICAgICBjb25zdCBtYXRjaEZhdiA9ICFzaG93RmF2T25seSB8fCBpc0ZhdmVkKGl0ZW0uaWQpOwogICAgICByZXR1cm4gbWF0Y2hKb2IgJiYgbWF0Y2hTZWFyY2ggJiYgbWF0Y2hGYXY7CiAgICB9KTsKICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSB7CiAgICAgIHJlc3VsdC5wdXNoKHsgY2F0ZWdvcnk6IGNhdC5jYXRlZ29yeSwgcmVjaXBlczogZmlsdGVyZWQgfSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJlc3VsdDsKfQoKLy8g5YiG57G75bGV5byA54q25oCB77yM6buY6K6k5YWo6YOo5oqY5Y+gCmxldCBjYXRlZ29yeUV4cGFuZFN0YXRlID0ge307CgovLyA9PT09PT09PT09IOWbvuagh+i3r+W+hOiHquWKqOWMuemFjSA9PT09PT09PT09IC8vCmZ1bmN0aW9uIGdldEl0ZW1JY29uKG5hbWUsIGZhbGxiYWNrKSB7CiAgLy8g6Ieq5Yqo5oyJ5ZCN56ew5Yy56YWNaXRlbXPnm67lvZXkuIvnmoTlm77moIcKICBjb25zdCB1cmwgPSBgYXNzZXRzL2ljb25zL2l0ZW1zLyR7bmFtZX0ud2VicGA7CiAgLy8g6aKE5Yqg6L295Yik5pat5piv5ZCm5a2Y5Zyo77yI5YmN56uv5Y+v55u05o6l55So77yM6YOo5YiG5rWP6KeI5Zmo5Lya6Ieq5YqoNDA06ZmN57qn77yJCiAgcmV0dXJuIHVybDsKfQoKLy8g5riy5p+T54mp5ZOB6YCJ5oup5Yy677yI5aSa57qn5YiG57G777yJCmZ1bmN0aW9uIHJlbmRlckl0ZW1TZWxlY3Rpb24oKSB7CiAgLy8g5paw5aKe77ya5Y+q55yL5pS26JeP5pe25bmz6ZO65pi+56S6CiAgaWYgKHNob3dGYXZPbmx5KSB7CiAgICBpdGVtc0dyaWQuY2xhc3NMaXN0LmFkZCgnZmF2LW9ubHknKTsgLy8g5Y+q55yL5pS26JeP5pe25YqgY2xhc3MKICAgIGNvbnN0IGFsbEl0ZW1zID0gZ2V0QWxsSXRlbXNGbGF0KCk7CiAgICAvLyDmuLLmn5PliY3ljrvph43vvJrlkIxpZOWPquaYvuekuuS4gOasoQogICAgY29uc3QgdW5pcXVlRmF2ZWQgPSBbXTsKICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7CiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYWxsSXRlbXMpIHsKICAgICAgaWYgKGZhdkl0ZW1zLmluY2x1ZGVzKGl0ZW0uaWQpICYmICFzZWVuLmhhcyhpdGVtLmlkKSkgewogICAgICAgIHVuaXF1ZUZhdmVkLnB1c2goaXRlbSk7CiAgICAgICAgc2Vlbi5hZGQoaXRlbS5pZCk7CiAgICAgIH0KICAgIH0KICAgIGlmICh1bmlxdWVGYXZlZC5sZW5ndGggPT09IDApIHsKICAgICAgaXRlbXNHcmlkLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1oZWFydC1icm9rZW4iPjwvaT48cD7mmoLml6DmlLbol4/nmoTnianlk4E8L3A+PC9kaXY+JzsKICAgICAgcmV0dXJuOwogICAgfQogICAgaXRlbXNHcmlkLmlubmVySFRNTCA9IHVuaXF1ZUZhdmVkLm1hcChpdGVtID0+IGAKICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXJkJHtzZWxlY3RlZEl0ZW1zLmZpbmQoc2VsID0+IHNlbC5pZCA9PT0gaXRlbS5pZCkgPyAnIHNlbGVjdGVkJyA6ICcnfSIgZGF0YS1pZD0iJHtpdGVtLmlkfSI+CiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1pY29uIj48aW1nIHNyYz0iJHtnZXRJdGVtSWNvbihpdGVtLm5hbWUsIGl0ZW0uaWNvbil9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ij48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLW5hbWUiPiR7aXRlbS5uYW1lfTwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tbGV2ZWwiPuetiee6p++8miR7aXRlbS5sZXZlbH08L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJmYXYtYnRuIGZhdmVkIiB0aXRsZT0i5Y+W5raI5pS26JePIj48aSBjbGFzcz0iZmFzIGZhLXN0YXIiPjwvaT48L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICBgKS5qb2luKCcnKTsKICAgIHJldHVybjsKICB9IGVsc2UgewogICAgaXRlbXNHcmlkLmNsYXNzTGlzdC5yZW1vdmUoJ2Zhdi1vbmx5Jyk7IC8vIOmAgOWHuuWPqueci+aUtuiXj+aXtuenu+mZpGNsYXNzCiAgfQogIC8vIOWOn+acieWIhue7hOa4suafk+mAu+i+kQogIGNvbnN0IGZpbHRlcmVkID0gZmlsdGVySXRlbXNCeUNhdGVnb3J5KCk7CiAgaWYgKCFBcnJheS5pc0FycmF5KGZpbHRlcmVkKSB8fCBmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgIGl0ZW1zR3JpZC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtaW5ib3giPjwvaT48cD7ml6DnrKblkIjmnaHku7bnmoTnianlk4E8L3A+PC9kaXY+JzsKICAgIHJldHVybjsKICB9CiAgbGV0IGh0bWwgPSAnJzsKICBmaWx0ZXJlZC5mb3JFYWNoKGNhdCA9PiB7CiAgICBpZiAoIShjYXQuY2F0ZWdvcnkgaW4gY2F0ZWdvcnlFeHBhbmRTdGF0ZSkpIGNhdGVnb3J5RXhwYW5kU3RhdGVbY2F0LmNhdGVnb3J5XSA9IGZhbHNlOwogICAgY29uc3QgZXhwYW5kZWQgPSBjYXRlZ29yeUV4cGFuZFN0YXRlW2NhdC5jYXRlZ29yeV07CiAgICBodG1sICs9IGAKICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXRlZ29yeSI+CiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jYXRlZ29yeS1oZWFkZXIke2V4cGFuZGVkID8gJyBleHBhbmRlZCcgOiAnJ30iIGRhdGEtY2F0ZWdvcnk9IiR7Y2F0LmNhdGVnb3J5fSI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2F0ZWdvcnktdG9nZ2xlIj4ke2V4cGFuZGVkID8gJ+KWvCcgOiAn4pa2J308L3NwYW4+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2F0ZWdvcnktdGl0bGUiPiR7Y2F0LmNhdGVnb3J5fTwvc3Bhbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhdGVnb3J5LXNlbGVjdC1hbGwtYnRuIiBkYXRhLWNhdGVnb3J5PSIke2NhdC5jYXRlZ29yeX0iIHRpdGxlPSLmibnph4/pgInmi6nor6XliIbnsbvkuIvmiYDmnInphY3mlrkiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMtc3F1YXJlIj48L2k+CiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNhdGVnb3J5LWxpc3QiIHN0eWxlPSJkaXNwbGF5OiR7ZXhwYW5kZWQgPyAnYmxvY2snIDogJ25vbmUnfTsiPgogICAgICAgICAgJHtjYXQucmVjaXBlcy5tYXAoaXRlbSA9PiBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tY2FyZCR7c2VsZWN0ZWRJdGVtcy5maW5kKHNlbCA9PiBzZWwuaWQgPT09IGl0ZW0uaWQpID8gJyBzZWxlY3RlZCcgOiAnJ30iIGRhdGEtaWQ9IiR7aXRlbS5pZH0iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0taWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24oaXRlbS5uYW1lLCBpdGVtLmljb24pfSIgYWx0PSIke2l0ZW0ubmFtZX0iIHN0eWxlPSJ3aWR0aDoyOHB4O2hlaWdodDoyOHB4OyI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1uYW1lIj4ke2l0ZW0ubmFtZX08L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWxldmVsIj7nrYnnuqfvvJoke2l0ZW0ubGV2ZWx9PC9kaXY+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZmF2LWJ0biR7aXNGYXZlZChpdGVtLmlkKSA/ICcgZmF2ZWQnIDogJyd9IiB0aXRsZT0iJHtpc0ZhdmVkKGl0ZW0uaWQpID8gJ+WPlua2iOaUtuiXjycgOiAn5pS26JePJ30iIGRhdGEtaWQ9IiR7aXRlbS5pZH0iPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIGA7CiAgfSk7CiAgaXRlbXNHcmlkLmlubmVySFRNTCA9IGh0bWw7Cn0KCi8vIOiOt+WPluaJgOaciemFjeaWueeahOaJgeW5s+aVsOe7hO+8iOeUqOS6jumAkuW9kuafpeaJvuWNiuaIkOWTge+8jOWni+e7iOeUqOWFqOiBjOS4muaVsOaNru+8iQpmdW5jdGlvbiBnZXRBbGxJdGVtc0ZsYXQoKSB7CiAgcmV0dXJuIEFMTF9SRUNJUEVTOwp9CgpmdW5jdGlvbiBpc0ZhdmVkKGl0ZW1JZCkgewogIHJldHVybiBmYXZJdGVtcy5pbmNsdWRlcyhpdGVtSWQpOwp9CmZ1bmN0aW9uIHRvZ2dsZUZhdihpdGVtSWQpIHsKICBpZiAoaXNGYXZlZChpdGVtSWQpKSB7CiAgICBmYXZJdGVtcyA9IGZhdkl0ZW1zLmZpbHRlcihpZCA9PiBpZCAhPT0gaXRlbUlkKTsKICB9IGVsc2UgewogICAgaWYgKCFmYXZJdGVtcy5pbmNsdWRlcyhpdGVtSWQpKSB7IC8vIOmYsuatoumHjeWkjeaUtuiXjwogICAgICBmYXZJdGVtcy5wdXNoKGl0ZW1JZCk7CiAgICB9CiAgfQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmZjE0X2ZhdnMnLCBKU09OLnN0cmluZ2lmeShmYXZJdGVtcykpOwogIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsgLy8g5L+d6K+B5YiG57qn55uu5b2V57uT5p6ECn0KCmZhdlRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICBzaG93RmF2T25seSA9ICFzaG93RmF2T25seTsKICBmYXZUb2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgc2hvd0Zhdk9ubHkpOwogIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsgLy8g5L+d6K+B5YiG57qn55uu5b2V57uT5p6ECn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOeJqeWTgeetm+mAieS4jua4suafkyA9PT09PT09PT09PT09PT09PT09PT0KZnVuY3Rpb24gZmlsdGVySXRlbXMoKSB7CiAgcmV0dXJuIElURU1TLmZpbHRlcihpdGVtID0+IHsKICAgIGNvbnN0IG1hdGNoSm9iID0gaXRlbS5qb2IgPT09IGN1cnJlbnRKb2I7CiAgICBjb25zdCBtYXRjaFNlYXJjaCA9ICFzZWFyY2hLZXl3b3JkIHx8IGl0ZW0ubmFtZS5pbmNsdWRlcyhzZWFyY2hLZXl3b3JkKTsKICAgIGNvbnN0IG1hdGNoRmF2ID0gIXNob3dGYXZPbmx5IHx8IGlzRmF2ZWQoaXRlbS5pZCk7CiAgICByZXR1cm4gbWF0Y2hKb2IgJiYgbWF0Y2hTZWFyY2ggJiYgbWF0Y2hGYXY7CiAgfSk7Cn0KCi8vIOS/ruato3JlbmRlckl0ZW1z77yM5pSv5oyB5aSa57qn5YiG57G757uT5p6ECmZ1bmN0aW9uIHJlbmRlckl0ZW1zKCkgewogIGNvbnN0IGl0ZW1zID0gZ2V0QWxsSXRlbXNGbGF0KCkuZmlsdGVyKGl0ZW0gPT4gewogICAgY29uc3QgbWF0Y2hKb2IgPSBpdGVtLmpvYiA9PT0gY3VycmVudEpvYjsKICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaEtleXdvcmQgfHwgaXRlbS5uYW1lLmluY2x1ZGVzKHNlYXJjaEtleXdvcmQpOwogICAgY29uc3QgbWF0Y2hGYXYgPSAhc2hvd0Zhdk9ubHkgfHwgaXNGYXZlZChpdGVtLmlkKTsKICAgIHJldHVybiBtYXRjaEpvYiAmJiBtYXRjaFNlYXJjaCAmJiBtYXRjaEZhdjsKICB9KTsKICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICBpdGVtc0dyaWQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj48aSBjbGFzcz0iZmFzIGZhLWluYm94Ij48L2k+PHA+5peg56ym5ZCI5p2h5Lu255qE54mp5ZOBPC9wPjwvZGl2Pic7CiAgICByZXR1cm47CiAgfQogIGl0ZW1zR3JpZC5pbm5lckhUTUwgPSBpdGVtcy5tYXAoaXRlbSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJpdGVtLWNhcmQke3NlbGVjdGVkSXRlbXMuZmluZChzZWwgPT4gc2VsLmlkID09PSBpdGVtLmlkKSA/ICcgc2VsZWN0ZWQnIDogJyd9IiBkYXRhLWlkPSIke2l0ZW0uaWR9Ij4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1pY29uIj48aW1nIHNyYz0iJHtnZXRJdGVtSWNvbihpdGVtLm5hbWUsIGl0ZW0uaWNvbil9IiBhbHQ9IiR7aXRlbS5uYW1lfSIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ij48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1uYW1lIj4ke2l0ZW0ubmFtZX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1sZXZlbCI+562J57qn77yaJHtpdGVtLmxldmVsfTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJpdGVtLWpvYiI+JHtKT0JTLmZpbmQoaj0+ai5rZXk9PT1pdGVtLmpvYik/Lm5hbWV8fCcnfTwvZGl2PgogICAgICA8YnV0dG9uIGNsYXNzPSJmYXYtYnRuJHtpc0ZhdmVkKGl0ZW0uaWQpID8gJyBmYXZlZCcgOiAnJ30iIHRpdGxlPSIke2lzRmF2ZWQoaXRlbS5pZCkgPyAn5Y+W5raI5pS26JePJyA6ICfmlLbol48nfSI+PGkgY2xhc3M9ImZhcyBmYS1zdGFyIj48L2k+PC9idXR0b24+CiAgICA8L2Rpdj4KICBgKS5qb2luKCcnKTsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09IOiBjOS4muWIh+aNoiA9PT09PT09PT09PT09PT09PT09PT0Kam9iVGFicy5mb3JFYWNoKHRhYiA9PiB7CiAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gewogICAgLy8g5paw5aKe77ya5Y+q55yL5pS26JeP5pe25YiH5o2i6IGM5Lia6Ieq5Yqo6YCA5Ye65Y+q55yL5pS26JePCiAgICBpZiAoc2hvd0Zhdk9ubHkpIHsKICAgICAgc2hvd0Zhdk9ubHkgPSBmYWxzZTsKICAgICAgZmF2VG9nZ2xlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgfQogICAgam9iVGFicy5mb3JFYWNoKHQgPT4gdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICBjb25zdCBqb2JLZXkgPSB0YWIuZGF0YXNldC5qb2I7CiAgICBjdXJyZW50Sm9iID0gam9iS2V5OwogICAgYXdhaXQgb25Kb2JDaGFuZ2Uoam9iS2V5KTsgLy8g56Gu5L+d5byC5q2l5Yqg6L295ZCO5YaN5riy5p+TCiAgfSk7Cn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOaQnOe0ouWKn+iDvSA9PT09PT09PT09PT09PT09PT09PT0KaXRlbVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4gewogIHNlYXJjaEtleXdvcmQgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7CiAgcmVuZGVySXRlbVNlbGVjdGlvbigpOyAvLyDkv53or4HliIbnuqfnm67lvZXnu5PmnoQKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g54mp5ZOB6YCJ5oupID09PT09PT09PT09PT09PT09PT09PQovLyDkv67mraPnianlk4HpgInmi6nkuovku7bvvIzlp4vnu4josIPnlKhyZW5kZXJJdGVtU2VsZWN0aW9uCml0ZW1zR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIC8vIOmHh+mbhuiBjOS4mumXuemSn+aMiemSrgogIGlmIChpc0dhdGhlcmluZ0pvYihjdXJyZW50Sm9iKSAmJiBlLnRhcmdldC5jbG9zZXN0KCcuZmF2LWJ0bicpKSB7CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmZhdi1idG4nKTsKICAgIGNvbnN0IGNhcmQgPSBidG4uY2xvc2VzdCgnLml0ZW0tY2FyZCcpOwogICAgaWYgKCFjYXJkKSByZXR1cm47CiAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGFzZXQuaWQ7CiAgICB0b2dnbGVHYXRoZXJBbGFybShpdGVtSWQpOwogICAgcmV0dXJuOwogIH0KICAvLyDnlJ/kuqfogYzkuJrmlLbol4/mjInpkq4KICBpZiAoIWlzR2F0aGVyaW5nSm9iKGN1cnJlbnRKb2IpICYmIGUudGFyZ2V0LmNsb3Nlc3QoJy5mYXYtYnRuJykpIHsKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCBjYXJkID0gZS50YXJnZXQuY2xvc2VzdCgnLml0ZW0tY2FyZCcpOwogICAgaWYgKCFjYXJkKSByZXR1cm47CiAgICBjb25zdCBpdGVtSWQgPSBjYXJkLmRhdGFzZXQuaWQ7CiAgICB0b2dnbGVGYXYoaXRlbUlkKTsKICAgIHJldHVybjsKICB9CiAgLy8g5Y+q55yL5pS26JeP5qih5byP5LiL55qE5pS26JeP5oyJ6ZKuCiAgaWYgKHNob3dGYXZPbmx5ICYmIGUudGFyZ2V0LmNsb3Nlc3QoJy5mYXYtYnRuJykpIHsKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuZmF2LWJ0bicpOwogICAgY29uc3QgY2FyZCA9IGJ0bi5jbG9zZXN0KCcuaXRlbS1jYXJkJyk7CiAgICBpZiAoIWNhcmQpIHJldHVybjsKICAgIGNvbnN0IGl0ZW1JZCA9IGNhcmQuZGF0YXNldC5pZDsKICAgIGZhdkl0ZW1zID0gZmF2SXRlbXMuZmlsdGVyKGlkID0+IGlkICE9PSBpdGVtSWQpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZmMTRfZmF2cycsIEpTT04uc3RyaW5naWZ5KGZhdkl0ZW1zKSk7CiAgICByZW5kZXJJdGVtU2VsZWN0aW9uKCk7CiAgICByZXR1cm47CiAgfQogIC8vIOmHh+mbhuiBjOS4muS4i+S4jeWkhOeQhueJqeWTgemAieaLqe+8iOmBv+WFjea3u+WKoOWIsOW3sumAieeJqeWTge+8iQogIGlmIChpc0dhdGhlcmluZ0pvYihjdXJyZW50Sm9iKSkgewogICAgcmV0dXJuOwogIH0KICBjb25zdCBjYXJkID0gZS50YXJnZXQuY2xvc2VzdCgnLml0ZW0tY2FyZCcpOwogIGlmICghY2FyZCkgcmV0dXJuOwogIGNvbnN0IGl0ZW1JZCA9IGNhcmQuZGF0YXNldC5pZDsKICBjb25zdCBpdGVtID0gZ2V0QWxsSXRlbXNGbGF0KCkuZmluZChpID0+IGkuaWQgPT09IGl0ZW1JZCk7CiAgaWYgKCFpdGVtKSB7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IGV4aXN0ID0gc2VsZWN0ZWRJdGVtcy5maW5kKHNlbCA9PiBzZWwuaWQgPT09IGl0ZW1JZCk7CiAgaWYgKGV4aXN0KSByZXR1cm47IC8vIOW3sumAieS4reS4jemHjeWkjea3u+WKoAogIHNlbGVjdGVkSXRlbXMucHVzaCh7IC4uLml0ZW0sIHF1YW50aXR5OiAxIH0pOwogIHJlbmRlclNlbGVjdGVkSXRlbXMoKTsKICByZW5kZXJJdGVtU2VsZWN0aW9uKCk7IC8vIOS/neivgeW3puS+p+WIhue6p+ebruW9leWSjOa7muWKqOato+W4uAp9KTsKCi8vID09PT09PT09PT09PT09PT09PT09PSDlt7LpgInnianlk4HmuLLmn5PkuI7mk43kvZwgPT09PT09PT09PT09PT09PT09PT09CmZ1bmN0aW9uIHJlbmRlclNlbGVjdGVkSXRlbXMoKSB7CiAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICBzZWxlY3RlZEl0ZW1zTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtaW5ib3giPjwvaT48cD7or7fpgInmi6nopoHliLbpgKDnmoTnianlk4E8L3A+PC9kaXY+JzsKICAgIHJldHVybjsKICB9CiAgc2VsZWN0ZWRJdGVtc0xpc3QuaW5uZXJIVE1MID0gc2VsZWN0ZWRJdGVtcy5tYXAoaXRlbSA9PiBgCiAgICA8ZGl2IGNsYXNzPSJzZWxlY3RlZC1pdGVtIiBkYXRhLWlkPSIke2l0ZW0uaWR9Ij4KICAgICAgPGRpdiBjbGFzcz0ic2VsZWN0ZWQtaXRlbS1pbmZvIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3RlZC1pdGVtLWljb24iPjxpbWcgc3JjPSIke2dldEl0ZW1JY29uKGl0ZW0ubmFtZSwgaXRlbS5pY29uKX0iIGFsdD0iJHtpdGVtLm5hbWV9IiBzdHlsZT0id2lkdGg6MzJweDtoZWlnaHQ6MzJweDsiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNlbGVjdGVkLWl0ZW0tZGV0YWlscyI+CiAgICAgICAgICA8aDQ+JHtpdGVtLm5hbWV9IDxzcGFuIGNsYXNzPSJpdGVtLWxldmVsLWlubGluZSI+562J57qn77yaJHtpdGVtLmxldmVsfTwvc3Bhbj48L2g0PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icXVhbnRpdHktY29udHJvbHMiPgogICAgICAgIDxidXR0b24gY2xhc3M9InF1YW50aXR5LWJ0biIgZGF0YS1hY3Rpb249ImRlY3JlYXNlIj4tPC9idXR0b24+CiAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9InF1YW50aXR5LWlucHV0IiB2YWx1ZT0iJHtpdGVtLnF1YW50aXR5fSIgbWluPSIxIj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJxdWFudGl0eS1idG4iIGRhdGEtYWN0aW9uPSJpbmNyZWFzZSI+KzwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9InF1YW50aXR5LWJ0biIgZGF0YS1hY3Rpb249InJlbW92ZSIgdGl0bGU9Iuenu+mZpCI+w5c8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICBgKS5qb2luKCcnKTsKfQoKLy8g5pWw6YeP6LCD5pW05LiO56e76ZmkCnNlbGVjdGVkSXRlbXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7CiAgY29uc3QgaXRlbURpdiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zZWxlY3RlZC1pdGVtJyk7CiAgaWYgKCFpdGVtRGl2KSByZXR1cm47CiAgY29uc3QgaXRlbUlkID0gaXRlbURpdi5kYXRhc2V0LmlkOwogIGNvbnN0IGlkeCA9IHNlbGVjdGVkSXRlbXMuZmluZEluZGV4KGkgPT4gaS5pZCA9PT0gaXRlbUlkKTsKICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuOwogIGlmIChlLnRhcmdldC5kYXRhc2V0LmFjdGlvbiA9PT0gJ2luY3JlYXNlJykgewogICAgc2VsZWN0ZWRJdGVtc1tpZHhdLnF1YW50aXR5Kys7CiAgICByZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CiAgfSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0LmFjdGlvbiA9PT0gJ2RlY3JlYXNlJykgewogICAgaWYgKHNlbGVjdGVkSXRlbXNbaWR4XS5xdWFudGl0eSA+IDEpIHsKICAgICAgc2VsZWN0ZWRJdGVtc1tpZHhdLnF1YW50aXR5LS07CiAgICAgIHJlbmRlclNlbGVjdGVkSXRlbXMoKTsKICAgIH0KICB9IGVsc2UgaWYgKGUudGFyZ2V0LmRhdGFzZXQuYWN0aW9uID09PSAncmVtb3ZlJykgewogICAgc2VsZWN0ZWRJdGVtcy5zcGxpY2UoaWR4LCAxKTsKICAgIHJlbmRlclNlbGVjdGVkSXRlbXMoKTsKICAgIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsgLy8g5L+d6K+B5bem5L6n5YiG57qn55uu5b2V5ZKM5rua5Yqo5q2j5bi4CiAgfQp9KTsKLy8g55u05o6l6L6T5YWl5pWw6YePCnNlbGVjdGVkSXRlbXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7CiAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3F1YW50aXR5LWlucHV0JykpIHJldHVybjsKICBjb25zdCBpdGVtRGl2ID0gZS50YXJnZXQuY2xvc2VzdCgnLnNlbGVjdGVkLWl0ZW0nKTsKICBpZiAoIWl0ZW1EaXYpIHJldHVybjsKICBjb25zdCBpdGVtSWQgPSBpdGVtRGl2LmRhdGFzZXQuaWQ7CiAgY29uc3QgaWR4ID0gc2VsZWN0ZWRJdGVtcy5maW5kSW5kZXgoaSA9PiBpLmlkID09PSBpdGVtSWQpOwogIGxldCB2YWwgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApOwogIGlmIChpc05hTih2YWwpIHx8IHZhbCA8IDEpIHZhbCA9IDE7CiAgc2VsZWN0ZWRJdGVtc1tpZHhdLnF1YW50aXR5ID0gdmFsOwp9KTsKCi8vID09PT09PT09PT09PT09PT09PT09PSDntKDmnZDorqHnrpcgPT09PT09PT09PT09PT09PT09PT09CmNvbnN0IGJhc2VNYXRlcmlhbHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jhc2VNYXRlcmlhbHNMaXN0Jyk7CgpjYWxjdWxhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICBtYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuivt+mAieaLqeeJqeWTgeWQjuWGjeiuoeeulzwvcD48L2Rpdj4nOwogICAgYmFzZU1hdGVyaWFsc0xpc3QuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImVtcHR5LXN0YXRlIj48aSBjbGFzcz0iZmFzIGZhLWJveGVzIj48L2k+PHA+6K+36YCJ5oup54mp5ZOB5ZCO5YaN6K6h566XPC9wPjwvZGl2Pic7CiAgICByZXR1cm47CiAgfQogIAogIC8vIOaxh+aAu+aJgOaciee0oOadkO+8iOWMheWQq+Wkmue6p+S+nei1lu+8iQogIGNvbnN0IG1hdGVyaWFsTWFwID0ge307CiAgY29uc3QgYmFzZU1hdGVyaWFsTWFwID0ge307CiAgCiAgZnVuY3Rpb24gYWRkTWF0ZXJpYWwobWF0ZXJpYWxJZCwgcXVhbnRpdHksIGlzQmFzZSA9IGZhbHNlKSB7CiAgICB0cnkgewogICAgICBjb25zdCB0YXJnZXRNYXAgPSBpc0Jhc2UgPyBiYXNlTWF0ZXJpYWxNYXAgOiBtYXRlcmlhbE1hcDsKICAgICAgCiAgICAgIGlmICghbWF0ZXJpYWxJZCB8fCB0eXBlb2YgbWF0ZXJpYWxJZCAhPT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgCiAgICAgIGlmICghcXVhbnRpdHkgfHwgdHlwZW9mIHF1YW50aXR5ICE9PSAnbnVtYmVyJykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgaWYgKCF0YXJnZXRNYXBbbWF0ZXJpYWxJZF0pIHsKICAgICAgICAvLyDlsJ3or5XlnKjphY3mlrnkuK3mn6Xmib7or6XmnZDmlpkKICAgICAgICBsZXQgaXRlbSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gZ2V0QWxsSXRlbXNGbGF0KCk7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxJdGVtcykpIHsKICAgICAgICAgICAgaXRlbSA9IGFsbEl0ZW1zLmZpbmQoaSA9PiBpICYmIGkuaWQgPT09IG1hdGVyaWFsSWQpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGl0ZW0gPSBudWxsOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgdGFyZ2V0TWFwW21hdGVyaWFsSWRdID0geyAKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSB8fCBtYXRlcmlhbElkLCAKICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uIHx8ICdhc3NldHMvaWNvbnMvaXRlbXMvZGVmYXVsdC53ZWJwJywKICAgICAgICAgICAgdG90YWw6IDAgCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDln7rnoYDmnZDmlpkKICAgICAgICAgIHRhcmdldE1hcFttYXRlcmlhbElkXSA9IHsgCiAgICAgICAgICAgIGlkOiBtYXRlcmlhbElkLAogICAgICAgICAgICBuYW1lOiBCQVNFX01BVEVSSUFMX05BTUVTW21hdGVyaWFsSWRdIHx8IG1hdGVyaWFsSWQsIAogICAgICAgICAgICBpY29uOiBCQVNFX01BVEVSSUFMX0lDT05TW21hdGVyaWFsSWRdIHx8ICdhc3NldHMvaWNvbnMvaXRlbXMvZGVmYXVsdC53ZWJwJywKICAgICAgICAgICAgdG90YWw6IDAgCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgaWYgKHRhcmdldE1hcFttYXRlcmlhbElkXSkgewogICAgICAgIHRhcmdldE1hcFttYXRlcmlhbElkXS50b3RhbCArPSBxdWFudGl0eTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcignYWRkTWF0ZXJpYWzlh73mlbDlh7rplJk6JywgZXJyb3IpOwogICAgICBjb25zb2xlLmVycm9yKCflj4LmlbA6JywgeyBtYXRlcmlhbElkLCBxdWFudGl0eSwgaXNCYXNlIH0pOwogICAgfQogIH0KICAKICBmdW5jdGlvbiBwcm9jZXNzUmVjaXBlKHJlY2lwZSwgbXVsdGlwbGllciA9IDEpIHsKICAgIGlmICghcmVjaXBlIHx8ICFBcnJheS5pc0FycmF5KHJlY2lwZSkgfHwgcmVjaXBlLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjaXBlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWF0ID0gcmVjaXBlW2ldOwogICAgICAgIAogICAgICAgIC8vIOWuieWFqOajgOafpeadkOaWmeWvueixoQogICAgICAgIGlmICghbWF0IHx8IHR5cGVvZiBtYXQgIT09ICdvYmplY3QnKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKCFtYXQuaWQgfHwgdHlwZW9mIG1hdC5pZCAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoIW1hdC5xdWFudGl0eSB8fCB0eXBlb2YgbWF0LnF1YW50aXR5ICE9PSAnbnVtYmVyJykgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIOajgOafpeaYr+WQpuS4uuWNiuaIkOWTge+8iOaciemFjeaWue+8iQogICAgICAgIGxldCBmb3VuZEl0ZW0gPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3VuZEl0ZW0gPSBnZXRBbGxJdGVtc0ZsYXQoKS5maW5kKGl0ZW0gPT4gaXRlbSAmJiBpdGVtLmlkID09PSBtYXQuaWQpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGZvdW5kSXRlbSA9IG51bGw7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IGhhc1JlY2lwZSA9IGZvdW5kSXRlbSAmJiBmb3VuZEl0ZW0ucmVjaXBlICYmIEFycmF5LmlzQXJyYXkoZm91bmRJdGVtLnJlY2lwZSk7CiAgICAgICAgCiAgICAgICAgaWYgKGhhc1JlY2lwZSkgewogICAgICAgICAgLy8g5Y2K5oiQ5ZOB77yM5Yqg5YWlMue6p+adkOaWmee7n+iuoQogICAgICAgICAgYWRkTWF0ZXJpYWwobWF0LmlkLCBtYXQucXVhbnRpdHkgKiBtdWx0aXBsaWVyLCBmYWxzZSk7CiAgICAgICAgICAvLyDpgJLlvZLlpITnkIbljYrmiJDlk4HnmoTphY3mlrkKICAgICAgICAgIHByb2Nlc3NSZWNpcGUoZm91bmRJdGVtLnJlY2lwZSwgbWF0LnF1YW50aXR5ICogbXVsdGlwbGllcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWfuuehgOadkOaWme+8jOWKoOWFpTHnuqfmnZDmlpnnu5/orqEKICAgICAgICAgIGFkZE1hdGVyaWFsKG1hdC5pZCwgbWF0LnF1YW50aXR5ICogbXVsdGlwbGllciwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYOWkhOeQhuadkOaWmVske2l9XeaXtuWHuumUmTpgLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v55qE5p2Q5paZ5a+56LGhOicsIHJlY2lwZVtpXSk7CiAgICAgICAgLy8g57un57ut5aSE55CG5LiL5LiA5Liq5p2Q5paZCiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KICB9CiAgCiAgLy8g5aSE55CG5omA5pyJ6YCJ5Lit54mp5ZOBCiAgc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgaWYgKGl0ZW0ucmVjaXBlKSB7CiAgICAgIHByb2Nlc3NSZWNpcGUoaXRlbS5yZWNpcGUsIGl0ZW0ucXVhbnRpdHkpOwogICAgfQogIH0pOwogIAogIC8vIOa4suafkzLnuqfmnZDmlpnvvIjljYrmiJDlk4HvvIkKICBjb25zdCBsZXZlbDJNYXRzID0gT2JqZWN0LnZhbHVlcyhtYXRlcmlhbE1hcCk7CiAgaWYgKGxldmVsMk1hdHMubGVuZ3RoID4gMCkgewogICAgbWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSBsZXZlbDJNYXRzLm1hcChtYXQgPT4gYAogICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1pdGVtIiBkYXRhLWlkPSIke21hdC5pZH0iPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLWluZm8iPgogICAgICAgICAgPGRpdiBjbGFzcz0ibWF0ZXJpYWwtaWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24obWF0Lm5hbWUsIG1hdC5pY29uKX0iIGFsdD0iJHttYXQubmFtZX0iIHN0eWxlPSJ3aWR0aDoyNHB4O2hlaWdodDoyNHB4OyI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1kZXRhaWxzIj4KICAgICAgICAgICAgPGg0PiR7bWF0Lm5hbWV9PC9oND4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLXF1YW50aXR5Ij7DlyR7bWF0LnRvdGFsfTwvZGl2PgogICAgICA8L2Rpdj4KICAgIGApLmpvaW4oJycpOwogIH0gZWxzZSB7CiAgICBtYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuaXoOmcgOWNiuaIkOWTgeadkOaWmTwvcD48L2Rpdj4nOwogIH0KICAKICAvLyDmuLLmn5Mx57qn5p2Q5paZ77yI5Z+656GA5p2Q5paZ77yJCiAgY29uc3QgbGV2ZWwxTWF0cyA9IE9iamVjdC52YWx1ZXMoYmFzZU1hdGVyaWFsTWFwKTsKICAvLyDnoo7mmbbnsbvmnZDmlplJRAogIGNvbnN0IGNyeXN0YWxJZHMgPSBbCiAgICAn6aOO5LmL56KO5pm2JywgJ+WGsOS5i+eijuaZticsICfpm7fkuYvnoo7mmbYnLCAn5Zyf5LmL56KO5pm2JywgJ+awtOS5i+eijuaZticsICfngavkuYvnoo7mmbYnLAogICAgJ3dpbmRfY3J5c3RhbCcsICdpY2VfY3J5c3RhbCcsICdsaWdodG5pbmdfY3J5c3RhbCcsICdlYXJ0aF9jcnlzdGFsJywgJ3dhdGVyX2NyeXN0YWwnLCAnZmlyZV9jcnlzdGFsJwogIF07CiAgLy8g5YWI5YiG57uECiAgY29uc3Qgbm9ybWFsTWF0cyA9IGxldmVsMU1hdHMuZmlsdGVyKG1hdCA9PiAhY3J5c3RhbElkcy5pbmNsdWRlcyhtYXQuaWQpICYmICFjcnlzdGFsSWRzLmluY2x1ZGVzKG1hdC5uYW1lKSk7CiAgY29uc3QgY3J5c3RhbE1hdHMgPSBsZXZlbDFNYXRzLmZpbHRlcihtYXQgPT4gY3J5c3RhbElkcy5pbmNsdWRlcyhtYXQuaWQpIHx8IGNyeXN0YWxJZHMuaW5jbHVkZXMobWF0Lm5hbWUpKTsKICAvLyDlkIjlubbvvIznoo7mmbbnsbvmjpLmnIDlkI4KICBjb25zdCBzb3J0ZWRMZXZlbDFNYXRzID0gWy4uLm5vcm1hbE1hdHMsIC4uLmNyeXN0YWxNYXRzXTsKICBpZiAoc29ydGVkTGV2ZWwxTWF0cy5sZW5ndGggPiAwKSB7CiAgICBiYXNlTWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSBzb3J0ZWRMZXZlbDFNYXRzLm1hcChtYXQgPT4gYAogICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1pdGVtIiBkYXRhLWlkPSIke21hdC5pZH0iPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLWluZm8iPgogICAgICAgICAgPGRpdiBjbGFzcz0ibWF0ZXJpYWwtaWNvbiI+PGltZyBzcmM9IiR7Z2V0SXRlbUljb24obWF0Lm5hbWUsIG1hdC5pY29uKX0iIGFsdD0iJHttYXQubmFtZX0iIHN0eWxlPSJ3aWR0aDoyNHB4O2hlaWdodDoyNHB4OyI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXRlcmlhbC1kZXRhaWxzIj4KICAgICAgICAgICAgPGg0PiR7bWF0Lm5hbWV9PC9oND4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGVyaWFsLXF1YW50aXR5Ij7DlyR7bWF0LnRvdGFsfTwvZGl2PgogICAgICA8L2Rpdj4KICAgIGApLmpvaW4oJycpOwogIH0gZWxzZSB7CiAgICBiYXNlTWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7ml6DpnIDln7rnoYDmnZDmlpk8L3A+PC9kaXY+JzsKICB9Cn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOe0oOadkOivpuaDheW8ueeqlyA9PT09PT09PT09PT09PT09PT09PT0KbWF0ZXJpYWxzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gewogIGNvbnN0IG1hdERpdiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tYXRlcmlhbC1pdGVtJyk7CiAgaWYgKCFtYXREaXYpIHJldHVybjsKICBjb25zdCBtYXRJZCA9IG1hdERpdi5kYXRhc2V0LmlkOwogIC8vIOekuuS+i++8muW8ueeql+Wxleekuue0oOadkOS/oeaBr++8iOWPr+aJqeWxleS4uuiOt+WPluaWueW8j+etie+8iQogIGNvbnN0IG1hdCA9IElURU1TLmZsYXRNYXAoaT0+aS5yZWNpcGVzKS5maW5kKG09Pm0uaWQ9PT1tYXRJZCkgfHwge307CiAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IG1hdC5uYW1lIHx8ICfntKDmnZDor6bmg4UnOwogIG1vZGFsQm9keS5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxNnB4OyI+CiAgICAgIDxpbWcgc3JjPSIke2dldEl0ZW1JY29uKG1hdC5uYW1lLCBtYXQuaWNvbil9IiBhbHQ9IiR7bWF0Lm5hbWV8fCcnfSIgc3R5bGU9IndpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7Ij4KICAgICAgPGRpdj4KICAgICAgICA8ZGl2PuWQjeensO+8miR7bWF0Lm5hbWV8fCcnfTwvZGl2PgogICAgICAgIDxkaXY+77yI5q2k5aSE5Y+v5omp5bGV5pi+56S66I635Y+W5pa55byP44CB6YeH6ZuG5Zyw54K544CB5ZWG5bqX5Lu35qC8562J77yJPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgYDsKICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKfSk7Cm1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7Cn0pOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKfSk7CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5Yid5aeL5YyW5riy5p+TID09PT09PT09PT09PT09PT09PT09PQpyZW5kZXJJdGVtcygpOwpyZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CgovLyA9PT09PT09IOacrOWcsOaXtumXtOaYvuekuuWKn+iDvSA9PT09PT09CmZ1bmN0aW9uIHVwZGF0ZUxvY2FsVGltZSgpIHsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbFRpbWVWYWx1ZScpOwogIGlmICghZWwpIHJldHVybjsKICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogIGNvbnN0IGhoID0gbm93LmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogIGNvbnN0IG1tID0gbm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgZWwudGV4dENvbnRlbnQgPSBgJHtoaH06JHttbX1gOwp9CnNldEludGVydmFsKHVwZGF0ZUxvY2FsVGltZSwgMTAwMCk7CnVwZGF0ZUxvY2FsVGltZSgpOyAvLyDpppbmrKHnq4vljbPmmL7npLoKLy8gPT09PT09PSDmnKzlnLDml7bpl7TmmL7npLrlip/og70gRU5EID09PT09PT0KCi8vID09PT09PT0g6Im+5qyn5rO95Lqa5pe26ZKf5pi+56S65Yqf6IO9ID09PT09PT0KZnVuY3Rpb24gdXBkYXRlRW9yemVhVGltZSgpIHsKICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlb3J6ZWFUaW1lVmFsdWUnKTsKICBpZiAoIWVsKSByZXR1cm47CiAgLy8g5Z+65YeG54K577yaMjAyNS0wNy0xNCAxNDoyMzowMCDmnKzlnLAgPSDoib4xODoxMAogIGNvbnN0IGJhc2VMb2NhbCA9IG5ldyBEYXRlKCcyMDI1LTA3LTE0VDE0OjIzOjAwKzA4OjAwJyk7IC8vIOWBh+iuvuS4nOWFq+WMugogIGNvbnN0IGJhc2VFb3J6ZWFNaW51dGVzID0gMTggKiA2MCArIDEwOwogIC8vIOW9k+WJjeacrOWcsOaXtumXtAogIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgLy8g6Led56a75Z+65YeG54K555qE5pys5Zyw56eS5pWwCiAgY29uc3QgZGVsdGFTZWMgPSAobm93IC0gYmFzZUxvY2FsKSAvIDEwMDA7CiAgLy8g6Im+5qyn5rO95LqaMeWIhumSnz0yLjkxNjY2NjY2NjY2NjY2NjXnp5LvvIgy5Y+IMTEvMTLnp5LvvIzmoIflh4bnsr7luqbvvIkKICBjb25zdCBlb3J6ZWFNaW51dGVTZWMgPSAyICsgMTEvMTI7CiAgLy8g5aKe5Yqg55qE6Im+5YiG6ZKf5pWwCiAgY29uc3QgYWRkRW9yemVhTWluID0gTWF0aC5mbG9vcihkZWx0YVNlYyAvIGVvcnplYU1pbnV0ZVNlYyk7CiAgLy8g5b2T5YmN6Im+5YiG6ZKf5oC75pWwCiAgbGV0IGN1ckVvcnplYU1pbiA9IChiYXNlRW9yemVhTWludXRlcyArIGFkZEVvcnplYU1pbikgJSAoMjQgKiA2MCk7CiAgaWYgKGN1ckVvcnplYU1pbiA8IDApIGN1ckVvcnplYU1pbiArPSAyNCAqIDYwOwogIGNvbnN0IGhoID0gTWF0aC5mbG9vcihjdXJFb3J6ZWFNaW4gLyA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogIGNvbnN0IG1tID0gKGN1ckVvcnplYU1pbiAlIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgZWwudGV4dENvbnRlbnQgPSBgJHtoaH06JHttbX1gOwp9CnNldEludGVydmFsKHVwZGF0ZUVvcnplYVRpbWUsIDEwMDApOwp1cGRhdGVFb3J6ZWFUaW1lKCk7IC8vIOmmluasoeeri+WNs+aYvuekugovLyA9PT09PT09IOiJvuasp+azveS6muaXtumSn+aYvuekuuWKn+iDvSBFTkQgPT09PT09PQoKLy8gPT09PT09PT09PT09PT09PT09PT09IOWFtuS7luWKn+iDve+8iOaUtuiXj+OAgeiuvue9ruetieWPr+WQjue7reaJqeWxle+8iSA9PT09PT09PT09PT09PT09PT09PT0KLy8gLi4uIAoKLy8g5YiG57G75bGV5byAL+aKmOWPoOS6i+S7tgppdGVtc0dyaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICAvLyDmibnph4/pgInmi6nmjInpkq7ngrnlh7vkuovku7YKICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmNhdGVnb3J5LXNlbGVjdC1hbGwtYnRuJykpIHsKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIOmYu+atouS6i+S7tuWGkuazoeWIsOWIhuexu+agh+mimAogICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmNhdGVnb3J5LXNlbGVjdC1hbGwtYnRuJyk7CiAgICBjb25zdCBjYXRlZ29yeSA9IGJ0bi5kYXRhc2V0LmNhdGVnb3J5OwogICAgCiAgICAvLyDojrflj5bor6XliIbnsbvkuIvnmoTmiYDmnInphY3mlrkKICAgIGNvbnN0IGNhdGVnb3J5SXRlbXMgPSBJVEVNUy5maW5kKGNhdCA9PiBjYXQuY2F0ZWdvcnkgPT09IGNhdGVnb3J5KT8ucmVjaXBlcyB8fCBbXTsKICAgIAogICAgLy8g5qC55o2u5b2T5YmN6IGM5Lia5qih5byP5Yaz5a6a5om56YeP5re75Yqg6KGM5Li6CiAgICBpZiAoaXNHYXRoZXJpbmdKb2IoY3VycmVudEpvYikpIHsKICAgICAgLy8g6YeH6ZuG6IGM5Lia5qih5byP77ya5om56YeP5re75Yqg5Yiw6Ze56ZKf5YiX6KGoCiAgICAgIGxldCBhZGRlZENvdW50ID0gMDsKICAgICAgY2F0ZWdvcnlJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGlmICghZ2F0aGVyQWxhcm1zLmluY2x1ZGVzKGl0ZW0uaWQpKSB7CiAgICAgICAgICBnYXRoZXJBbGFybXMucHVzaChpdGVtLmlkKTsKICAgICAgICAgIGFkZGVkQ291bnQrKzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAKICAgICAgLy8g5L+d5a2Y5Yiw5pys5Zyw5a2Y5YKoCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYXRoZXJfYWxhcm1zJywgSlNPTi5zdHJpbmdpZnkoZ2F0aGVyQWxhcm1zKSk7CiAgICAgIAogICAgICAvLyDmm7TmlrDmmL7npLoKICAgICAgcmVuZGVyR2F0aGVyQWxhcm1zKCk7CiAgICAgIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsKICAgICAgCiAgICAgIC8vIOaYvuekuuaPkOekuuS/oeaBrwogICAgICBpZiAoYWRkZWRDb3VudCA+IDApIHsKICAgICAgICAvLyDlt7Lmibnph4/mt7vliqDnianlk4HliLDpl7npkp/liJfooagKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDor6XliIbnsbvkuIvnmoTnianlk4Hlt7Llhajpg6jlnKjpl7npkp/liJfooajkuK0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8g55Sf5Lqn6IGM5Lia5qih5byP77ya5om56YeP5re75Yqg5Yiw5bey6YCJ54mp5ZOB5Lit77yI6Lez6L+H5bey5a2Y5Zyo55qE77yJCiAgICAgIGxldCBhZGRlZENvdW50ID0gMDsKICAgICAgY2F0ZWdvcnlJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGNvbnN0IGV4aXN0ID0gc2VsZWN0ZWRJdGVtcy5maW5kKHNlbCA9PiBzZWwuaWQgPT09IGl0ZW0uaWQpOwogICAgICAgIGlmICghZXhpc3QpIHsKICAgICAgICAgIHNlbGVjdGVkSXRlbXMucHVzaCh7IC4uLml0ZW0sIHF1YW50aXR5OiAxIH0pOwogICAgICAgICAgYWRkZWRDb3VudCsrOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIAogICAgICAvLyDmm7TmlrDmmL7npLoKICAgICAgcmVuZGVyU2VsZWN0ZWRJdGVtcygpOwogICAgICByZW5kZXJJdGVtU2VsZWN0aW9uKCk7CiAgICAgIAogICAgICAvLyDmmL7npLrmj5DnpLrkv6Hmga8KICAgICAgaWYgKGFkZGVkQ291bnQgPiAwKSB7CiAgICAgICAgLy8g5bey5om56YeP5re75Yqg6YWN5pa55Yiw5bey6YCJ54mp5ZOBCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g6K+l5YiG57G75LiL55qE6YWN5pa55bey5YWo6YOo5Zyo5bey6YCJ54mp5ZOB5LitCiAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuOwogIH0KICAKICBjb25zdCBjYXRIZWFkZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuaXRlbS1jYXRlZ29yeS1oZWFkZXInKTsKICBpZiAoY2F0SGVhZGVyICYmICFlLnRhcmdldC5jbG9zZXN0KCcuaXRlbS1jYXJkJykpIHsKICAgIGNvbnN0IGNhdCA9IGNhdEhlYWRlci5kYXRhc2V0LmNhdGVnb3J5OwogICAgY2F0ZWdvcnlFeHBhbmRTdGF0ZVtjYXRdID0gIWNhdGVnb3J5RXhwYW5kU3RhdGVbY2F0XTsKICAgIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsKICAgIHJldHVybjsKICB9CiAgLy8gLi4u5Y6f5pyJaXRlbS1jYXJk54K55Ye76YC76L6RLi4uCn0pOwoKLy8gPT09PT09PT09PT09PT09PT09PT09IOS4gOmUrua4heepuuW3sumAieeJqeWTgSA9PT09PT09PT09PT09PT09PT09PT0KY29uc3QgY2xlYXJTZWxlY3RlZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhclNlbGVjdGVkQnRuJyk7CmlmIChjbGVhclNlbGVjdGVkQnRuKSB7CiAgY2xlYXJTZWxlY3RlZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgIC8vIOa4heepuuW3sumAieeJqeWTgeaVsOe7hAogICAgc2VsZWN0ZWRJdGVtcy5sZW5ndGggPSAwOwogICAgLy8g5Yi35paw5bey6YCJ54mp5ZOB5YiX6KGoCiAgICByZW5kZXJTZWxlY3RlZEl0ZW1zKCk7CiAgICAvLyDliLfmlrDlt6bkvqfnianlk4HpgInmi6nljLrvvIjlkKvliIbnsbvoj5zljZXlkozpq5jkuq7vvIkKICAgIHJlbmRlckl0ZW1TZWxlY3Rpb24oKTsKICAgIC8vIOa4heepuuiuoeeul+e7k+aenOWMuuWfnwogICAgbWF0ZXJpYWxzTGlzdC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZW1wdHktc3RhdGUiPjxpIGNsYXNzPSJmYXMgZmEtYm94ZXMiPjwvaT48cD7or7fpgInmi6nnianlk4HlkI7lho3orqHnrpc8L3A+PC9kaXY+JzsKICAgIGJhc2VNYXRlcmlhbHNMaXN0LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlbXB0eS1zdGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1ib3hlcyI+PC9pPjxwPuivt+mAieaLqeeJqeWTgeWQjuWGjeiuoeeulzwvcD48L2Rpdj4nOwogIH0pOwp9CgovLyA9PT09PT09PT09PT09PT09PT09PT0g5Li76aKY5YiH5o2i5Yqf6IO9ID09PT09PT09PT09PT09PT09PT09PQpjbGFzcyBUaGVtZU1hbmFnZXIgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5jdXJyZW50VGhlbWUgPSB0aGlzLmdldFN0b3JlZFRoZW1lKCkgfHwgJ2RhcmsnOwogICAgdGhpcy50aGVtZVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZVRvZ2dsZScpOwogICAgdGhpcy5pbml0KCk7CiAgfQoKICAvLyDojrflj5blrZjlgqjnmoTkuLvpopgKICBnZXRTdG9yZWRUaGVtZSgpIHsKICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmYxNC1jYWxjdWxhdG9yLXRoZW1lJyk7CiAgfQoKICAvLyDlrZjlgqjkuLvpopgKICBzZXRTdG9yZWRUaGVtZSh0aGVtZSkgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZmMTQtY2FsY3VsYXRvci10aGVtZScsIHRoZW1lKTsKICB9CgogIC8vIOW6lOeUqOS4u+mimAogIGFwcGx5VGhlbWUodGhlbWUpIHsKICAgIGlmICh0aGVtZSA9PT0gJ2xpZ2h0JykgewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0Jyk7CiAgICAgIHRoaXMudGhlbWVUb2dnbGUuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtc3VuIj48L2k+JzsKICAgICAgdGhpcy50aGVtZVRvZ2dsZS50aXRsZSA9ICfliIfmjaLliLDlpJzmmZrmqKHlvI8nOwogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10aGVtZScpOwogICAgICB0aGlzLnRoZW1lVG9nZ2xlLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLW1vb24iPjwvaT4nOwogICAgICB0aGlzLnRoZW1lVG9nZ2xlLnRpdGxlID0gJ+WIh+aNouWIsOeZveWkqeaooeW8jyc7CiAgICB9CiAgICB0aGlzLmN1cnJlbnRUaGVtZSA9IHRoZW1lOwogICAgdGhpcy5zZXRTdG9yZWRUaGVtZSh0aGVtZSk7CiAgfQoKICAvLyDliIfmjaLkuLvpopgKICB0b2dnbGVUaGVtZSgpIHsKICAgIGNvbnN0IG5ld1RoZW1lID0gdGhpcy5jdXJyZW50VGhlbWUgPT09ICdkYXJrJyA/ICdsaWdodCcgOiAnZGFyayc7CiAgICAKICAgIC8vIOa3u+WKoOWIh+aNouWKqOeUuwogICAgdGhpcy50aGVtZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCd0aGVtZS10cmFuc2l0aW9uJyk7CiAgICAKICAgIC8vIOW7tui/n+W6lOeUqOS4u+mimO+8jOmFjeWQiOWKqOeUu+aViOaenAogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuYXBwbHlUaGVtZShuZXdUaGVtZSk7CiAgICAgIAogICAgICAvLyDnp7vpmaTliqjnlLvnsbsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy50aGVtZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCd0aGVtZS10cmFuc2l0aW9uJyk7CiAgICAgIH0sIDQwMCk7CiAgICB9LCAyMDApOwogIH0KCiAgLy8g5Yid5aeL5YyWCiAgaW5pdCgpIHsKICAgIGlmICghdGhpcy50aGVtZVRvZ2dsZSkgewogICAgICBjb25zb2xlLndhcm4oJ+S4u+mimOWIh+aNouaMiemSruacquaJvuWIsCcpOwogICAgICByZXR1cm47CiAgICB9CgogICAgLy8g5bqU55So5Yid5aeL5Li76aKYCiAgICB0aGlzLmFwcGx5VGhlbWUodGhpcy5jdXJyZW50VGhlbWUpOwoKICAgIC8vIOe7keWumueCueWHu+S6i+S7tgogICAgdGhpcy50aGVtZVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgdGhpcy50b2dnbGVUaGVtZSgpOwogICAgfSk7CgogICAgLy8g5re75Yqg6ZSu55uY5b+r5o236ZSuIChDdHJsL0NtZCArIFNoaWZ0ICsgVCkKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGUuc2hpZnRLZXkgJiYgZS5rZXkgPT09ICdUJykgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0aGlzLnRvZ2dsZVRoZW1lKCk7CiAgICAgIH0KICAgIH0pOwogIH0KfQoKLy8g5Yid5aeL5YyW5Li76aKY566h55CG5ZmoCmNvbnN0IHRoZW1lTWFuYWdlciA9IG5ldyBUaGVtZU1hbmFnZXIoKTsKCi8vIOWIoOmZpOmXuemSn+aMiemSruS6i+S7tuebkeWQrOWZqAppZiAoY2FsY3VsYXRlQnRuKSB7CiAgY2FsY3VsYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgLy8g5qOA5p+l5b2T5YmN5piv5ZCm5Li66YeH6ZuG6IGM5LiaCiAgICBpZiAoaXNHYXRoZXJpbmdKb2IoY3VycmVudEpvYikpIHsKICAgICAgLy8g5riF56m65omA5pyJ6Ze56ZKfCiAgICAgIGdhdGhlckFsYXJtcy5sZW5ndGggPSAwOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2F0aGVyX2FsYXJtcycsIEpTT04uc3RyaW5naWZ5KGdhdGhlckFsYXJtcykpOwogICAgICByZW5kZXJHYXRoZXJBbGFybXMoKTsKICAgICAgcmVuZGVySXRlbVNlbGVjdGlvbigpOyAvLyDmm7TmlrDnianlk4HpgInmi6nljLrnmoTmjInpkq7nirbmgIEKICAgIH0gZWxzZSB7CiAgICAgIC8vIOeUn+S6p+iBjOS4mueahOiuoeeul+mAu+i+ke+8iOWOn+aciemAu+i+ke+8iQogICAgICAvLyDov5nph4zlj6/ku6Xkv53nlZnljp/mnInnmoTorqHnrpflip/og70KICAgIH0KICB9KTsKfQoKCgovLyA9PT09PT09PT09IOmHh+mbhuiBjOS4muWIpOaWreS4jlVJ5YiH5o2iID09PT09PT09PT0gLy8KLy8g5Yik5pat5piv5ZCm5Li66YeH6ZuG6IGM5Lia77yI6YeH55+/5belL+WbreiJuuW3pe+8iQpmdW5jdGlvbiBpc0dhdGhlcmluZ0pvYihqb2IpIHsKICByZXR1cm4gam9iID09PSAnbWluZXInIHx8IGpvYiA9PT0gJ2JvdGFuaXN0JzsKfQoKLy8g5YiH5o2i6YeH6ZuG6IGM5Lia5qih5byP77yM6LCD5pW0VUnlkozlip/og70KZnVuY3Rpb24gdG9nZ2xlR2F0aGVyaW5nTW9kZShqb2IpIHsKICAvLyDliKTmlq3mmK/lkKbkuLrph4fpm4bogYzkuJoKICBjb25zdCBpc0dhdGhlcmluZyA9IGlzR2F0aGVyaW5nSm9iKGpvYik7CiAgY29uc3QgY2FsY3VsYXRvckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjdWxhdG9yLWNvbnRhaW5lcicpOwogIGNvbnN0IGZhdlRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYXZUb2dnbGVCdG4nKTsKICBjb25zdCBhbGFybVRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybVRvZ2dsZUJ0bicpOwogIGNvbnN0IGNhbGN1bGF0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxjdWxhdGVCdG4nKTsKICBjb25zdCBjYWxjdWxhdGVCdG5UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGN1bGF0ZS1idG4tdGV4dCcpOwogIGNvbnN0IGNhbGN1bGF0ZUJ0bkljb24gPSBjYWxjdWxhdGVCdG4ucXVlcnlTZWxlY3RvcignaScpOwogIGNvbnN0IGNsZWFyU2VsZWN0ZWRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xlYXJTZWxlY3RlZEJ0bicpOwogIGNvbnN0IHByb2R1Y3Rpb25Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3Rpb24tY29udGVudCcpOwogIGNvbnN0IGFsYXJtQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGFybS1jb250ZW50Jyk7CiAgLy8g6I635Y+W5Y+z5LiK6KeS5qCH6aKY5Y+K5Zu+5qCHCiAgY29uc3Qgc2VjdGlvbkhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjdWxhdGlvbi1yZXN1bHRzIC5zZWN0aW9uLWhlYWRlciBoMicpOwogIGNvbnN0IHNlY3Rpb25IZWFkZXJJY29uID0gc2VjdGlvbkhlYWRlci5xdWVyeVNlbGVjdG9yKCdpJyk7CiAgLy8g6I635Y+W6Ze56ZKf5YaF5a655Yy655qEaDPvvIjigJzpl7npkp/liJfooajigJ3moIfnrb7vvIkKICBjb25zdCBhbGFybUxpc3RIMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGFybS1jb250ZW50IC5hbGFybS1saXN0IGgzJyk7CgogIGlmIChpc0dhdGhlcmluZykgewogICAgLy8g6YeH6ZuG6IGM5Lia5qih5byPCiAgICBjYWxjdWxhdG9yQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2dhdGhlcmluZy1tb2RlJyk7CiAgICBmYXZUb2dnbGVCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGFsYXJtVG9nZ2xlQnRuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAvLyAxLiDkv67mlLnmoIfpopjlkozlm77moIcKICAgIGlmKHNlY3Rpb25IZWFkZXJJY29uKSBzZWN0aW9uSGVhZGVySWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLWNsb2NrJzsKICAgIHNlY3Rpb25IZWFkZXIuY2hpbGROb2Rlc1sxXS5ub2RlVmFsdWUgPSAnIOmXuemSn+WIl+ihqCc7CiAgICAvLyAyLiDliKDpmaTkuIvmlrnigJzpl7npkp/liJfooajigJ3moIfnrb4KICAgIGlmKGFsYXJtTGlzdEgzKSBhbGFybUxpc3RIMy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgLy8gMy4g6ZqQ6JeP5riF56m65oyJ6ZKu77yI5Z6D5Zy+5qG277yJCiAgICBjbGVhclNlbGVjdGVkQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAvLyA0LiDigJzliKDpmaTpl7npkp/igJ3mjInpkq7lm77moIfkuLrlnoPlnL7mobbvvIzkuJTlj6rkv53nlZnlm77moIflkozmloflrZcKICAgIGlmKGNhbGN1bGF0ZUJ0bkljb24pIGNhbGN1bGF0ZUJ0bkljb24uY2xhc3NOYW1lID0gJ2ZhcyBmYS10cmFzaCc7CiAgICBjYWxjdWxhdGVCdG5UZXh0LnRleHRDb250ZW50ID0gJ+WIoOmZpOmXuemSnyc7CiAgICAvLyDliIfmjaLlhoXlrrnljLrln58KICAgIGlmIChwcm9kdWN0aW9uQ29udGVudCkgcHJvZHVjdGlvbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGlmIChhbGFybUNvbnRlbnQpIGFsYXJtQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAvLyDliqDovb3pl7npkp/mlbDmja4KICAgIHJlbmRlckdhdGhlckFsYXJtcygpOwogIH0gZWxzZSB7CiAgICAvLyDnlJ/kuqfogYzkuJrmqKHlvI8KICAgIGNhbGN1bGF0b3JDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZ2F0aGVyaW5nLW1vZGUnKTsKICAgIGZhdlRvZ2dsZUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgYWxhcm1Ub2dnbGVCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIC8vIOaBouWkjeagh+mimOWSjOWbvuaghwogICAgaWYoc2VjdGlvbkhlYWRlckljb24pIHNlY3Rpb25IZWFkZXJJY29uLmNsYXNzTmFtZSA9ICdmYXMgZmEtY2hhcnQtYmFyJzsKICAgIHNlY3Rpb25IZWFkZXIuY2hpbGROb2Rlc1sxXS5ub2RlVmFsdWUgPSAnIOiuoeeul+e7k+aenCc7CiAgICAvLyDmgaLlpI3kuIvmlrnigJzpl7npkp/liJfooajigJ3moIfnrb4KICAgIGlmKGFsYXJtTGlzdEgzKSBhbGFybUxpc3RIMy5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAvLyDmmL7npLrmuIXnqbrmjInpkq4KICAgIGNsZWFyU2VsZWN0ZWRCdG4uc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIC8vIOaBouWkjeKAnOiuoeeul+e0oOadkOKAneaMiemSruWbvuagh+WSjOaWh+WtlwogICAgaWYoY2FsY3VsYXRlQnRuSWNvbikgY2FsY3VsYXRlQnRuSWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLWNhbGN1bGF0b3InOwogICAgY2FsY3VsYXRlQnRuVGV4dC50ZXh0Q29udGVudCA9ICforqHnrpfntKDmnZAnOwogICAgLy8g5YiH5o2i5YaF5a655Yy65Z+fCiAgICBpZiAocHJvZHVjdGlvbkNvbnRlbnQpIHByb2R1Y3Rpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIGlmIChhbGFybUNvbnRlbnQpIGFsYXJtQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgLy8g6YeN572u6Ze56ZKf5qih5byPCiAgICBzaG93QWxhcm1Pbmx5ID0gZmFsc2U7CiAgICBhbGFybVRvZ2dsZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICB9Cn0KLy8g5Zyob25Kb2JDaGFuZ2XkuK3osIPnlKh0b2dnbGVHYXRoZXJpbmdNb2Rl';
    
    // UTF-8Base64
    function decodeUTF8(str) {
        try {
            // Base64UTF-8
            const decoded = atob(str);
            // UTF-8
            return decodeURIComponent(escape(decoded));
        } catch (error) {
            console.error(':', error);
            return null;
        }
    }
    
    const decoded = decodeUTF8(encoded);
    if (decoded) {
        eval(decoded);
    }
})();
// Protected by FF14Calculator Simple Build System